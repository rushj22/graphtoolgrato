<!doctype html>
<html>
<head>
    <title>Grato</title>
    <script type="text/javascript" src="http://d3js.org/d3.v3.min.js"></script>

    <script type="text/javascript">
    var graph_type,graph_weighttype,graph_edge,graph_vertex,graph_vertex1,graph_vertex2,graph_weight;
    var edge_count=0,index=1;
    var myGraph=[{vertex1:"",vertex2:"",weight:""}];
    var myGraph_undir=[{vertex1:"",vertex2:"",weight:""}];
    var myGraph_krusk_mst=[{vertex1:"",vertex2:"",weight:""}];
    var myGraph_prim_mst=[{vertex1:"",vertex2:"",weight:""}];
    var myGraph_dijk_result=[{vertex1:"",vertex2:"",weight:""}];

    var par_krusk=[];
    var rank_krusk=[];
    var par_prim=[];
    var key_prim=[];
    var pres_prim=[];
    var par_dijk=[];
    var key_dijk=[];
    var pres_dijk=[];

    function weightvisible()
    {
      document.getElementById("g_weight").style.display = 'none';
    }
    function g_button_type(clicked_id_graphtype)
    {
    
      if (check_graph_type(clicked_id_graphtype)==1)
      {
        graph_type="directed";
        document.getElementById("g_print_type").innerHTML=graph_type;
      }
      else if (check_graph_type(clicked_id_graphtype)==0)
      {
        graph_type="undirected";
        document.getElementById("g_print_type").innerHTML=graph_type;
      }
      else
        document.getElementById("g_print_type").innerHTML="Invalid, Enter again\n"; 
    }
    function check_graph_type(clicked_id_graphtype)
    {
      if (clicked_id_graphtype.localeCompare("button_directed")==0)
        return 1;
      else if (clicked_id_graphtype.localeCompare("button_undirected")==0)
        return 0;
    }
  
    function g_button_weighttype(clicked_id_weighttype)
    {   
      if(check_graph_weighttype(clicked_id_weighttype)==1)
      {
        graph_weighttype="weighted";
        document.getElementById("g_weight").style.display = 'inline';
        document.getElementById("g_print_weighttype").innerHTML=graph_weighttype;
      }
      else if(check_graph_weighttype(clicked_id_weighttype)==0)
      {
        graph_weighttype="unweighted";
        document.getElementById("g_print_weighttype").innerHTML=graph_weighttype;
      }
      else
        document.getElementById("g_print_weighttype").innerHTML="Invalid, Enter again\n";
    }
    function check_graph_weighttype(clicked_id_weighttype)
    {
      if (clicked_id_weighttype.localeCompare("button_weighted")==0)
        return 1;
      else if (clicked_id_weighttype.localeCompare("button_unweighted")==0)
        return 0;
    }
    function g_button_edgevertex()
    { 
      graph_edge=document.getElementById("g_edge").value;
      graph_vertex=document.getElementById("g_vertex").value;
      document.getElementById("g_print_edgevertex").innerHTML="edges: "+graph_edge+" vertices: "+graph_vertex;
    }
    function g_button_edgenodes()
    {
      graph_vertex1=document.getElementById("g_vertex1").value;
      graph_vertex2=document.getElementById("g_vertex2").value;
      if (graph_weighttype.localeCompare("weighted")==0)
        graph_weight=document.getElementById("g_weight").value;
      else
        graph_weight=1;
      storeprint_graph()  
    }

    function storeprint_graph()
    { 
      edge_count++;

      if (edge_count>graph_edge)
      {
        var newEdge=document.createElement('p');
        newEdge.textContent="You have already entered number of edges mentioned";
        document.getElementById("print_newedge").appendChild(newEdge);
      }
      else
      {
        var newobj={vertex1:graph_vertex1,vertex2:graph_vertex2,weight:graph_weight};
        myGraph.push(newobj);

        if(graph_weighttype.localeCompare("weighted")==0)
        {
          var new_edge="Added edge: "+edge_count+" !\n";
          document.getElementById("print_newedge").innerHTML=new_edge;
        }       
        else if(graph_weighttype.localeCompare("unweighted")==0)
        {
          var new_edge="Added edge: "+edge_count+" !\n";
          document.getElementById("print_newedge").innerHTML=new_edge;
        }
      
        if(graph_type.localeCompare("undirected")==0)
        {
          myGraph_undir.push(newobj);
          var newobj={vertex1:graph_vertex2,vertex2:graph_vertex1,weight:graph_weight};
          myGraph_undir.push(newobj);
        }
      }
    }
    var x1=50;
    var y1=50;
    function print_edges()
    {
      var i;     
      d3.select("svg").append("text").attr("x",x1).attr("y",y1).text("You entered:").attr("font-family", "sans-serif").attr("font-size", "20px").attr("fill", "green"); 
      if(graph_weighttype.localeCompare("weighted")==0)
      {
        for(i=1;i<=graph_edge;i++)
        {
          y1=y1+40;
          d3.select("svg").append("text").attr("x",x1).attr("y",y1).text(myGraph[i].vertex1+" "+myGraph[i].vertex2+"-->"+myGraph[i].weight).attr("font-family", "sans-serif").attr("font-size", "15px").attr("fill", "green");
        }
      }
      else
      {
        for(i=1;i<=graph_edge;i++)
        {
          y1=y1+40;
          d3.select("svg").append("text").attr("x",x1).attr("y",y1).text(myGraph[i].vertex1+" "+myGraph[i].vertex2).attr("font-family", "sans-serif").attr("font-size", "15px").attr("fill", "green");
        }
      }
    }

    function find(vertex)
    {
      if(vertex!=par_krusk[vertex])
        return find(par_krusk[vertex]);
      return par_krusk[vertex];
    }
    function union(v1,v2)
    {
      var x1=find(v1);
      var x2=find(v2);

      if (rank_krusk[x1]<rank_krusk[x2])
        par_krusk[x1]=x2;
      else if (rank_krusk[x2]<rank_krusk[x1])
        par_krusk[x2]=x1;
      else
      {
        par_krusk[x2]=x1;
        rank_krusk[x1]++;
      }
    }   
    function kruskal()
    {
      d3.selectAll("svg > *").remove();
      g_button_drawgraph();
      print_edges();
      var i;
      var mst_cost=0;
  /*  var newEdge=document.createElement('p');
      newEdge.textContent="Kruskal Output\n";
      document.getElementById("kruskal_mstedge").appendChild(newEdge);*/

      for (i=1;i<=graph_edge;i++)
      {
        par_krusk[i]=i;
        rank_krusk[i]=0;
      }
      var myGraph_krusk=[{vertex1:"",vertex2:"",weight:""}];
      for(i=1;i<=graph_edge;i++)
      {
        var newobj=myGraph[i];
        myGraph_krusk.push(newobj);
      }

      myGraph_krusk.sort(function(a, b)
      {
        return a.weight-b.weight;
      })
      var x=50;
      var y=y1+40;
      d3.select("svg").append("text").attr("x",x).attr("y",y).text("Sorted edge-wise:").attr("font-family", "sans-serif").attr("font-size", "20px").attr("fill", "blue"); 
      if(graph_weighttype.localeCompare("weighted")==0)
      {
        for(i=1;i<=graph_edge;i++)
        {
          y=y+40;
          d3.select("svg").append("text").attr("x",x).attr("y",y).text(myGraph_krusk[i].vertex1+" "+myGraph_krusk[i].vertex2+"-->"+myGraph_krusk[i].weight).attr("font-family", "sans-serif").attr("font-size", "15px").attr("fill", "blue");
        }
      }
      else
      {
        for(i=1;i<=graph_edge;i++)
        {
          y=y+40;
          d3.select("svg").append("text").attr("x",x).attr("y",y).text(myGraph_krusk[i].vertex1+" "+myGraph_krusk[i].vertex2).attr("font-family", "sans-serif").attr("font-size", "15px").attr("fill", "blue");
        }
      }
      var ptr=1;
      var count=0;
      var time=0;
      y=10;
      while(count!=graph_vertex-1)
      {
        x=300;
        y=y+40;
        d3.select("svg").append("text").attr("x",x).attr("y",y).text("Testing edge between: "+myGraph_krusk[ptr].vertex1+" "+myGraph_krusk[ptr].vertex2).attr("font-family", "sans-serif").attr("font-size", "12px").attr("fill", "red");
        var v1=myGraph_krusk[ptr].vertex1;
        var v2=myGraph_krusk[ptr].vertex2;
        var x1=find(v1);
        var x2=find(v2);
        y=y+40;
        if(x1!=x2)
        {
          d3.select("svg").append("text").attr("x",x).attr("y",y).text("Edge: "+myGraph_krusk[ptr].vertex1+" "+myGraph_krusk[ptr].vertex2+" added to mst").attr("font-family", "sans-serif").attr("font-size", "12px").attr("fill", "red");
          myGraph_krusk_mst.push(myGraph_krusk[ptr]);
          mst_cost=mst_cost+Number(myGraph_krusk[ptr].weight);
          count++;
          union(myGraph_krusk[ptr].vertex1,myGraph_krusk[ptr].vertex2);

        /*var newEdge=document.createElement('p');
          newEdge.textContent=myGraph_krusk[ptr].vertex1+" "+myGraph_krusk[ptr].vertex2+"\n";
          document.getElementById("kruskal_mstedge").appendChild(newEdge);
        */
          var label_name;
          label_name="label"+myGraph_krusk[ptr].vertex1+""+myGraph_krusk[ptr].vertex2;
          d3.select("svg").append("line").attr("id",label_name).attr("x1",myCoordinates[myGraph_krusk[ptr].vertex1].x1).attr("y1",myCoordinates[myGraph_krusk[ptr].vertex1].y1).attr("x2",myCoordinates[myGraph_krusk[ptr].vertex2].x1).attr("y2",myCoordinates[myGraph_krusk[ptr].vertex2].y1).style("stroke-width",2).style("stroke","green").transition().duration(1000).delay(time*2000).style("stroke","yellow");

          time++;
         }
         else
         {
            d3.select("svg").append("text").attr("x",x).attr("y",y).text("Edge: "+myGraph_krusk[ptr].vertex1+" "+myGraph_krusk[ptr].vertex2+" NOT added to mst; forms a cycle").attr("font-family", "sans-serif").attr("font-size", "12px").attr("fill", "red");
         }
        ptr++;
      }
      y=y+40;
      d3.select("svg").append("text").attr("x",x).attr("y",y).text("(Vertex-1) edges complete").attr("font-family", "sans-serif").attr("font-size", "12px").attr("fill", "red");
      for(i=ptr;i<=graph_edge;i++)
      {
        y=y+40;
        d3.select("svg").append("text").attr("x",x).attr("y",y).text("Edge: "+myGraph_krusk[i].vertex1+" "+myGraph_krusk[i].vertex2+" NOT added to mst; forms a cycle").attr("font-family", "sans-serif").attr("font-size", "12px").attr("fill", "red");
      }
      y=y+40;
      d3.select("svg").append("text").attr("x",x).attr("y",y).text("Algorithm Terminates").attr("font-family", "sans-serif").attr("font-size", "15px").attr("fill", "orange");
      y=y+40;
      d3.select("svg").append("text").attr("x",x).attr("y",y).text("Mst cost: "+mst_cost).attr("font-family", "sans-serif").attr("font-size", "15px").attr("fill", "orange");
    }
    //source for priority queue: http://codereview.stackexchange.com/questions/15853/javascript-priorityqueue-based-on-object-property

    var que_len=0;
    var que=[];

    function get_right_of(index_func) 
    {
      return (index_func * 2) + 2;
    }
    function get_left_of(index_func) 
    {
      return (index_func * 2) + 1;
    }
    function evaluate(self, target) 
    {
        if(typeof que[target] === 'undefined' || typeof que[self] === 'undefined')
          return false;
        return (que[self].key < que[target].key);
    }
    function swap_till_correct_que(value)
    {
      var left = get_left_of(value)
      var right = get_right_of(value);

    if (evaluate(left,value)) 
      {
        swap(value, left);
        swap_till_correct_que(left);
      } 
      else if (evaluate(right, value)) 
      {
        swap(value, right);
        swap_till_correct_que(right);
      }
      else if (value === 0)
        return;
      else 
        swap_till_correct_que(0);      

    }
    function dijk_pop()
    {
      if (que_len <= 0) 
      {
        var newMsg=document.createElement('p');
        newMsg.textContent="Empty Queue\n";
        document.getElementById("print_dijkstra").appendChild(newMsg);
      }
      else
      {
        var oldRoot = que[0];
        var newRoot = que.pop();
        que_len--;
        que[0] = newRoot;
        swap_till_correct_que(0);
    //    return oldRoot;
      }    
    }
    function prim_pop()
    {
      if (que_len <= 0) 
      {
        var newMsg=document.createElement('p');
        newMsg.textContent="Empty Queue\n";
        document.getElementById("prim_mstedge").appendChild(newMsg);
      }
      else
      {
        var oldRoot = que[0];
        var newRoot = que.pop();
        que_len--;
        que[0] = newRoot;
        swap_till_correct_que(0);
    //    return oldRoot;
      }    
    }
    function priorque_top()
    {
      return que[0];
    }
    function isEmpty()
    {
      if (que_len <= 0) return 1;
      else return 0;
    }
    function swap(self, target)
    {
      var placeHolder = que[self];
      que[self] = que[target];
      que[target] = placeHolder;
    }    
    function get_parent_of(index_prim)
    {
      return Math.floor((index_prim - 1) / 2);
    }
    function bubbleup(index_prim)
    {
        
      if (index_prim === 0)
        return;
        
      var parent = get_parent_of(index_prim);
      if (evaluate(index_prim, parent)) 
      {        
        swap(index_prim, parent);
        bubbleup(parent);
      } 
      else
        return;
    }
    function priorque_insert(prim_elem)
    {
      que.push(prim_elem);
      que_len++;
      bubbleup(que_len-1);
    }

    function prim()
    {
      var r=Number(document.getElementById("g_startnode").value);
      d3.selectAll("svg > *").remove();
      g_button_drawgraph();
      print_edges();
      var mst_cost=0;
      var x=50;
      var y=y1+40;
      d3.select("svg").append("text").attr("x",x).attr("y",y).text("Start Node: "+r).attr("font-family", "sans-serif").attr("font-size", "15px").attr("fill", "blue");
      for(i=1;i<=graph_vertex;i++)
      {       
        par_prim[i]=-1;       
        key_prim[i]=Number.MAX_VALUE;;
        pres_prim[i]=1;
      }
      key_prim[r]=0;
      pres_prim[r]=0;
      y=y+40;
      d3.select("svg").append("text").attr("x",x).attr("y",y).text("Initializing all nodes").attr("font-family", "sans-serif").attr("font-size", "15px").attr("fill", "blue");
      for(i=1;i<=graph_vertex;i++)
      {
        var newobj={vertex:i,key:key_prim[i]};
        priorque_insert(newobj);
      }
      y=y+40;
      d3.select("svg").append("text").attr("x",x).attr("y",y).text("Created priority queue with initial").attr("font-family", "sans-serif").attr("font-size", "15px").attr("fill", "blue");
      y=y+15;
      d3.select("svg").append("text").attr("x",x).attr("y",y).text("key of each node set to infinity").attr("font-family", "sans-serif").attr("font-size", "15px").attr("fill", "blue");
      var myGraph_prim=[{vertex1:"",vertex2:"",weight:""}];
      for(i=1;i<=2*graph_edge;i++)
      {
        var newobj=myGraph_undir[i];
        myGraph_prim.push(newobj);
      }
      myGraph_prim.sort(function(a, b)
      {
        return a.vertex1-b.vertex1;
      })
      var track=[];
      var position=[];
      for(i=1;i<=graph_vertex;i++)
      {
        track[i]=0;
        position[i]=-1;
      }
      position[myGraph_prim[1].vertex1]=1;
      track[myGraph_prim[1].vertex1]++;
      for(i=2;i<=2*graph_edge;i++)
      {
        track[myGraph_prim[i].vertex1]++;
        if(myGraph_prim[i].vertex1!==myGraph_prim[i-1].vertex1)
          position[myGraph_prim[i].vertex1]=i;
      }
      x=300;
      y=10;
      while (isEmpty()===0)
      { 
        var newobj=priorque_top();
        prim_pop();
        
        if(newobj.key<=key_prim[newobj.vertex])
        {   
            y=y+40;
            d3.select("svg").append("text").attr("x",x).attr("y",y).text("Popped node: "+newobj.vertex+" with key: "+newobj.key).attr("font-family", "sans-serif").attr("font-size", "12px").attr("fill", "red");  
            pres_prim[newobj.vertex]=0;
            for(i=position[newobj.vertex];i<=position[newobj.vertex]+track[newobj.vertex]-1;i++)
            {
                if(pres_prim[myGraph_prim[i].vertex2]===1 && myGraph_prim[i].weight<key_prim[myGraph_prim[i].vertex2])
                {           
                    par_prim[myGraph_prim[i].vertex2]=newobj.vertex;   
                    key_prim[myGraph_prim[i].vertex2]=myGraph_prim[i].weight;             
                    var newobj1={vertex:myGraph_prim[i].vertex2,key:key_prim[myGraph_prim[i].vertex2]};
                    priorque_insert(newobj1);
                    y=y+40;
                    d3.select("svg").append("text").attr("x",x).attr("y",y).text("Pushed node: "+newobj1.vertex+" with key: "+newobj1.key).attr("font-family", "sans-serif").attr("font-size", "12px").attr("fill", "red"); 
                }
            }           
            if(newobj.vertex!==r)
            {
                var newobj2={vertex1:newobj.vertex,vertex2:par_prim[newobj.vertex],weight:newobj.key};
                myGraph_prim_mst.push(newobj2);
                mst_cost=mst_cost+Number(newobj2.weight);
                y=y+40;
                d3.select("svg").append("text").attr("x",x).attr("y",y).text("Edge: "+newobj2.vertex1+" "+newobj2.vertex2+" added to mst").attr("font-family", "sans-serif").attr("font-size", "12px").attr("fill", "green");
            }
        }
      }
      var time=0;
      for(i=1;i<graph_vertex;i++)
      {
        var label_name;
        label_name="label"+myGraph_prim_mst[i].vertex1+""+myGraph_prim_mst[i].vertex2;
        d3.select("svg").append("line").attr("id",label_name).attr("x1",myCoordinates[myGraph_prim_mst[i].vertex1].x1).attr("y1",myCoordinates[myGraph_prim_mst[i].vertex1].y1).attr("x2",myCoordinates[myGraph_prim_mst[i].vertex2].x1).attr("y2",myCoordinates[myGraph_prim_mst[i].vertex2].y1).style("stroke-width",2).style("stroke","green").transition().duration(1000).delay(time*2000).style("stroke","yellow");
  /*    var newEdge=document.createElement('p');
        newEdge.textContent=myGraph_prim_mst[i].vertex1+" "+myGraph_prim_mst[i].vertex2+" "+myGraph_prim_mst[i].weight+"\n";
        document.getElementById("prim_mstedge").appendChild(newEdge);*/
        time++;
      }
   /*  var newEdge=document.createElement('p');
      newEdge.textContent="Prim's Output\n";
      document.getElementById("prim_mstedge").appendChild(newEdge);*/
      y=y+40;
      d3.select("svg").append("text").attr("x",x).attr("y",y).text("Algorithm Terminates").attr("font-family", "sans-serif").attr("font-size", "15px").attr("fill", "orange");
      y=y+40;
      d3.select("svg").append("text").attr("x",x).attr("y",y).text("Mst cost: "+mst_cost).attr("font-family", "sans-serif").attr("font-size", "15px").attr("fill", "orange");
    }

    function dijkstra()
    {
      var r=Number(document.getElementById("g_startnode").value);
      d3.selectAll("svg > *").remove();
      g_button_drawgraph();
      print_edges();
      var mst_cost=0;
      var x=50;
      var y=y1+40;
      d3.select("svg").append("text").attr("x",x).attr("y",y).text("Start Node: "+r).attr("font-family", "sans-serif").attr("font-size", "15px").attr("fill", "blue");
      var i;
      for(i=1;i<=graph_vertex;i++)
      {       
        par_dijk[i]=-1;       
        key_dijk[i]=Number.MAX_VALUE;;
        pres_dijk[i]=1;
      }
            
      key_dijk[r]=0;
      pres_dijk[r]=0;
      y=y+40;
      d3.select("svg").append("text").attr("x",x).attr("y",y).text("Initializing all nodes").attr("font-family", "sans-serif").attr("font-size", "15px").attr("fill", "blue");
      for(i=1;i<=graph_vertex;i++)
      {
        var newobj={vertex:i,key:key_dijk[i]};
        priorque_insert(newobj);
      }
      y=y+40;
      d3.select("svg").append("text").attr("x",x).attr("y",y).text("Created priority queue with initial").attr("font-family", "sans-serif").attr("font-size", "15px").attr("fill", "blue");
      y=y+15;
      d3.select("svg").append("text").attr("x",x).attr("y",y).text("key of each node set to infinity").attr("font-family", "sans-serif").attr("font-size", "15px").attr("fill", "blue");
      var myGraph_dijk=[{vertex1:"",vertex2:"",weight:""}];
      for(i=1;i<=2*graph_edge;i++)
      {
        var newobj=myGraph_undir[i];
        myGraph_dijk.push(newobj);
      }
      myGraph_dijk.sort(function(a, b)
      {
        return a.vertex1-b.vertex1;
      })
      var track=[];
      var position=[];
      for(i=1;i<=graph_vertex;i++)
      {
        track[i]=0;
        position[i]=-1;
      }
      
      position[myGraph_dijk[1].vertex1]=1;
      track[myGraph_dijk[1].vertex1]++;
      for(i=2;i<=2*graph_edge;i++)
      {
        track[myGraph_dijk[i].vertex1]++;
        if(myGraph_dijk[i].vertex1!==myGraph_dijk[i-1].vertex1)
          position[myGraph_dijk[i].vertex1]=i;
      }
      x=300;
      y=10;
      while (isEmpty()===0)
      { 
        var newobj=priorque_top();
        dijk_pop();
        
        if(newobj.key<=key_dijk[newobj.vertex])
        {     
            y=y+40;
            d3.select("svg").append("text").attr("x",x).attr("y",y).text("Popped node: "+newobj.vertex+" with key: "+newobj.key).attr("font-family", "sans-serif").attr("font-size", "12px").attr("fill", "red");  
            pres_dijk[newobj.vertex]=0;
            for(i=position[newobj.vertex];i<=position[newobj.vertex]+track[newobj.vertex]-1;i++)
            {
                if(pres_dijk[myGraph_dijk[i].vertex2]===1 && myGraph_dijk[i].weight<key_dijk[myGraph_dijk[i].vertex2])
                {           
                    par_dijk[myGraph_dijk[i].vertex2]=newobj.vertex;   
                    key_dijk[myGraph_dijk[i].vertex2]=myGraph_dijk[i].weight;             
                    var newobj1={vertex:myGraph_dijk[i].vertex2,key:key_dijk[myGraph_dijk[i].vertex2]};             
                    priorque_insert(newobj1);
                    y=y+40;
                    d3.select("svg").append("text").attr("x",x).attr("y",y).text("Pushed node: "+newobj1.vertex+" with key: "+newobj1.key).attr("font-family", "sans-serif").attr("font-size", "12px").attr("fill", "red");
                }
            }           
            if(newobj.vertex!==r)
            {
                var newobj2={vertex1:newobj.vertex,vertex2:par_dijk[newobj.vertex],weight:newobj.key};
                myGraph_dijk_result.push(newobj2);
                y=y+40;
                d3.select("svg").append("text").attr("x",x).attr("y",y).text("Edge: "+newobj2.vertex1+" "+newobj2.vertex2+" added to solution").attr("font-family", "sans-serif").attr("font-size", "12px").attr("fill", "green");
            }
        }
      }
      var time=0;
      for(i=1;i<graph_vertex;i++)
      {
        var label_name;
        label_name="label"+myGraph_dijk_result[i].vertex1+""+myGraph_dijk_result[i].vertex2;
        d3.select("svg").append("line").attr("id",label_name).attr("x1",myCoordinates[myGraph_dijk_result[i].vertex1].x1).attr("y1",myCoordinates[myGraph_dijk_result[i].vertex1].y1).attr("x2",myCoordinates[myGraph_dijk_result[i].vertex2].x1).attr("y2",myCoordinates[myGraph_dijk_result[i].vertex2].y1).style("stroke-width",2).style("stroke","green").transition().duration(1000).delay(time*2000).style("stroke","yellow");
        time++;
      }
      var newEdge=document.createElement('p');
      newEdge.textContent="Dijkstra's Output\n";
      document.getElementById("print_dijkstra").appendChild(newEdge);
    }
    
    var x,y;
    var myCoordinates=[{x1:"",y1:""}];
    function g_button_drawvertices()
    { 
      for(var i = 0; i < graph_vertex; i++) 
      {
        x = 800+200 * Math.cos(2 * Math.PI * i / graph_vertex);
        y = 300+200 * Math.sin(2 * Math.PI * i / graph_vertex);

        var newobj={x1:x,y1:y};
        myCoordinates.push(newobj);
      }
      for(i=0;i<graph_vertex;i++)
      {
        d3.select("svg").append("circle").attr("cx", myCoordinates[i+1].x1).attr("cy", myCoordinates[i+1].y1).attr("r", 20).attr("stroke","black").attr("stroke-width",3).style("fill", "yellow");
        
        d3.select("svg").append("text").attr("x",myCoordinates[i+1].x1-5).attr("y",myCoordinates[i+1].y1+5).text(i+1).attr("font-family", "sans-serif").attr("font-size", "20px").attr("fill", "red");
      }
    }
    function g_button_drawedge()
    {
      var temp_graph_vertex1=Number(document.getElementById("g_vertex1").value);
      var temp_graph_vertex2=Number(document.getElementById("g_vertex2").value);
      if (graph_weighttype.localeCompare("weighted")==0)
        temp_graph_weight=Number(document.getElementById("g_weight").value);
      else
        temp_graph_weight=1;

      var label_name;
      label_name="label"+temp_graph_vertex1+""+temp_graph_vertex2;
      d3.select("svg").append("line").attr("id",label_name).attr("x1",myCoordinates[temp_graph_vertex1].x1).attr("y1",myCoordinates[temp_graph_vertex1].y1).attr("x2",myCoordinates[temp_graph_vertex2].x1).attr("y2",myCoordinates[temp_graph_vertex2].y1).style("stroke","green").style("stroke-width",2);

      if(graph_weighttype.localeCompare("weighted")==0)
      {
        d3.select("svg").append("text").attr("x",(myCoordinates[temp_graph_vertex1].x1+(2*myCoordinates[temp_graph_vertex2].x1))/3).attr("y",(myCoordinates[temp_graph_vertex1].y1+(2*myCoordinates[temp_graph_vertex2].y1))/3).text(temp_graph_weight).attr("font-family", "sans-serif").attr("font-size", "15px").attr("fill", "red");
      }
    }
    function g_button_drawgraph()
    { 
      for(var i = 0; i < graph_vertex; i++) 
      {
        x = 800+200 * Math.cos(2 * Math.PI * i / graph_vertex);
        y = 300+200 * Math.sin(2 * Math.PI * i / graph_vertex);

        var newobj={x1:x,y1:y};
        myCoordinates.push(newobj);
      }
      for(i=0;i<graph_vertex;i++)
      {
        d3.select("svg").append("circle").attr("cx", myCoordinates[i+1].x1).attr("cy", myCoordinates[i+1].y1).attr("r", 20).attr("stroke","black").attr("stroke-width",3).style("fill", "yellow");
        
        d3.select("svg").append("text").attr("x",myCoordinates[i+1].x1-5).attr("y",myCoordinates[i+1].y1+5).text(i+1).attr("font-family", "sans-serif").attr("font-size", "20px").attr("fill", "red");
      }
      for(i=1;i<=graph_edge;i++)
      {
        var label_name;
        label_name="label"+myGraph[i].vertex1+""+myGraph[i].vertex2;
        
        d3.select("svg").append("line").attr("id",label_name).attr("x1",myCoordinates[myGraph[i].vertex1].x1).attr("y1",myCoordinates[myGraph[i].vertex1].y1).attr("x2",myCoordinates[myGraph[i].vertex2].x1).attr("y2",myCoordinates[myGraph[i].vertex2].y1).style("stroke","green").style("stroke-width",2);
      }

      if(graph_weighttype.localeCompare("weighted")==0)
      {
        for(i=1;i<=graph_edge;i++)
        {
          d3.select("svg").append("text").attr("x",(myCoordinates[myGraph[i].vertex1].x1+(2*myCoordinates[myGraph[i].vertex2].x1))/3).attr("y",(myCoordinates[myGraph[i].vertex1].y1+(2*myCoordinates[myGraph[i].vertex2].y1))/3).text(myGraph[i].weight).attr("font-family", "sans-serif").attr("font-size", "15px").attr("fill", "red");
        }
      }
    }
    </script>

</head>

<svg width="5000" height="5000">
    <foreignObject x="50" y="0" width="500" height="1500">
      <body onload= weightvisible();>

        <h3>Enter type of Graph (directed / undirected) </h3>
        <button type="button" id="button_directed" onclick="g_button_type(this.id)" >Directed</button>
        <button type="button" id="button_undirected" onclick="g_button_type(this.id)" >Undirected</button><br />

        <h3>Enter type of Graph (weighted / unweighted) </h3>
        <button type="button" id="button_weighted" onclick="g_button_weighttype(this.id)" >Weighted</button>
        <button type="button" id="button_unweighted" onclick="g_button_weighttype(this.id)" >Unweighted</button><br />

        <h3>Enter the number of edges and vertices </h3>
        <input type="text" style="width:75px" id="g_edge">
        <input type="text" style="width:75px" id="g_vertex" />
        <button type="button" id="button_edgevertex" onclick="g_button_edgevertex();g_button_drawvertices()" >Enter</button><br />

        <h3>Enter the edge nodes (and weight)</h3>
        <input type="text" style="width:75px" id="g_vertex1" />
        <input type="text" style="width:75px" id="g_vertex2" />
        <input type="text" style="width:75px" id="g_weight" />
        <button type="button" id="button_edgenodes" onclick="g_button_edgenodes();g_button_drawedge();" >Enter</button><br />
        
        <h3>Function</h3>
        <h5>Enter start node (for Prim/Dijkstra)</h5>
        <input type="text" style="width:75px" id="g_startnode" />
        <button type="button" id="button_kruskal" onclick="kruskal()" >Kruskal</button>
        <button type="button" id="button_prim" onclick="prim()" >Prim</button>
        <button type="button" id="button_dijkstra" onclick="dijkstra()" >Dijkstra</button><br />

        <p id="g_print_type"></p>
        <p id="g_print_weighttype"></p>
        <p id="g_print_edgevertex"></p>
        <p id="print_newedge"></p>
        <p id="kruskal_mstedge"></p>
        <p id="prim_mstedge"></p>
        <p id="print_dijkstra"></p>

      </body>
    </foreignObject>
</svg>
</html>