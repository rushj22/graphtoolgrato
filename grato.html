<!DOCTYPE html>
<meta charset="utf-8">
<title>Grato</title>
  <style>
body {
    background-color: "white";

}

.node {
    fill: #ccc;
    stroke: #fff;
    stroke-width: 2px;
}

.link {
    stroke: #777;
    stroke-width: 2px;
}

    </style>    
    <p align="center">
    <font size=6>
    <font color="#19198c"> Grato 
    </font>
    </font>
    <p>
    <p style="font-family:Helvetica">
        <font size=4>
        <font color="#5F9EA0">
  <!--      Enter type of Graph (directed / undirected)
        <button type="button" id="button_directed" onclick="g_button_type(this.id)" >Directed</button>
        <button type="button" id="button_undirected" onclick="g_button_type(this.id)" >Undirected</button>-->
        </font>
        </font>

        <font size=3>
        <font color="#5F9EA0">
        <center>
        <font color="#4B0082">Enter type of Graph (weighted / unweighted)
        <button type="button" id="button_weighted" onclick="g_button_type_undir();g_button_weighttype(this.id)" >Weighted</button>
        <button type="button" id="button_unweighted" onclick="g_button_type_undir();g_button_weighttype(this.id)" >Unweighted</button>
        </center>
        </font>
        </font>
   <!--     <br><br> -->
        <font size=3>
        <font color="#7B68EE">
        <!--
        Enter the number of edges and vertices
        <input type="text" style="width:75px" id="g_edge">
        <input type="text" style="width:75px" id="g_vertex" />
        <button type="button" id="button_edgevertex" onclick="g_button_edgevertex();g_button_drawvertices()" >Enter</button>-->
        </font>
        </font>
        <br>
        <font size=3>
        <font color="#1E90FF">
         <center>
       Upload file (click here for file format)
       <button type="button" id="button_fileformat" onclick="g_button_fileformat();" >File format</button>
      <!--
        Enter the edge nodes (and weight)
        <input type="text" style="width:75px" id="g_vertex1" />
        <input type="text" style="width:75px" id="g_vertex2" />
        <input type="text" style="width:75px" id="g_weight" />
        <button type="button" id="button_edgenodes" onclick="g_button_edgenodes();g_button_drawedge()" >Enter</button>
        -->
        <input type="file" id="fileinput" />
        </font>
        </font>

        <font size=4>
        <font color="#0000CD">
        OR generate random inputs
        <button type="button" id="button_edgenodes" onclick="g_button_storeprint_randgraph()" >Generate Random Graph</button>
        </center>
        </font>
        </font>
        <br>
        <center>  
        <font color="#3A5FCD">
        <font size=5>    
        Functions
        </font>
        <font size=2>
        Enter start node (for Prim/Dijkstra/BFS/DFS/Bellman Ford)
        </font>
        </font>

        <input type="text" style="width:75px" id="g_startnode" /><br><br>
        <button type="button" id="button_bfs" onclick="bfs_init()" >BFS</button>
        <button type="button" id="button_dfs" onclick="dfs_init()" >DFS</button>
        <button type="button" id="button_kruskal" onclick="kruskal()" >Kruskal</button>
        <button type="button" id="button_prim" onclick="prim()" >Prim</button>
        <button type="button" id="button_dijkstra" onclick="dijkstra()" >Dijkstra</button>
        <button type="button" id="button_bellman" onclick="bellman_init()" >Bellman Ford</button>
        <button type="button" id="button_floyd" onclick="floyd_init()" >Floyd Warshall</button><br />
        </center>
        <p id="g_print"></p>
        <p id="print_newedge"></p>
        <p id="print_bfs"></p>
        <p id="print_dfs"></p>
        <p id="kruskal_mstedge"></p>
        <p id="prim_mstedge"></p>
        <p id="print_dijkstra"></p>
        <p id="print_bellman"></p>
        <p id="print_floyd"></p>
      </p>

<script type="text/javascript" src="http://d3js.org/d3.v3.min.js"></script>
<script src='http://d3js.org/d3.v3.min.js'></script>
<script type="text/javascript">
var graph_type,graph_weighttype,graph_edge,graph_vertex,graph_vertex1,graph_vertex2,graph_weight;
var edge_count=0,index=1,randgraph_true=0;;
var myGraph=[{vertex1:"",vertex2:"",weight:""}];
var myGraph_undir=[{vertex1:"",vertex2:"",weight:""}];
var myGraph_bfs_result=[{vertex1:"",vertex2:"",weight:""}];
var myGraph_dfs_result=[{vertex1:"",vertex2:"",weight:""}];
var myGraph_krusk_mst=[{vertex1:"",vertex2:"",weight:""}];
var myGraph_prim_mst=[{vertex1:"",vertex2:"",weight:""}];
var myGraph_dijk_result=[{vertex1:"",vertex2:"",weight:""}];
var myGraph_bellman_result=[{vertex1:"",vertex2:"",weight:""}];
var myGraph_floyd_result=[{vertex1:"",vertex2:"",weight:""}];


var par_bfs=[];
var color_bfs=[];
var dist_bfs=[];
var vis_dfs=[];
var par_krusk=[];
var rank_krusk=[];
var par_prim=[];
var key_prim=[];
var pres_prim=[];
var par_dijk=[];
var key_dijk=[];
var pres_dijk=[];
var par_bellman=[];
var dist_bellman=[];
var file_var="";
function g_button_fileformat()
{
  var newWindow = window.open('');
  newWindowRoot = d3.select(newWindow.document.body)
            .attr("width","1060px")
            .attr("margin","50px auto");
   var sampleSVG = newWindowRoot;
   var mySVG=sampleSVG.append('svg')
        .attr('width',10000)
        .attr('height', 10000);
         mySVG.append("text").attr("x",10).attr("y",40).text("File Format").attr("font-family", "Helvetica").attr("font-size", "20px").attr("fill", "green");
        mySVG.append("text").attr("x",10).attr("y",80).text("1. First line should have number of edges and number of vertices separated by a space.").attr("font-family", "Helvetica").attr("font-size", "13px").attr("fill", "#00868B");
        mySVG.append("text").attr("x",10).attr("y",120).text("2. Each of the next line should indicate one edge: from node number  to node number   weight (if weighted): all separated by space").attr("font-family", "Helvetica").attr("font-size", "13px").attr("fill", "#00868B");
        mySVG.append("text").attr("x",10).attr("y",160).text("3. PLEASE END THE FILE WITH A BLANK LINE").attr("font-family", "Helvetica").attr("font-size", "13px").attr("fill", "red");
}
function readSingleFile(evt) {
    //Retrieve the first (and only!) File from the FileList object
    var f = evt.target.files[0]; 

    if (f) {
      var r = new FileReader();
      r.onload = function(e) { 
        var contents = e.target.result;
        file_var=contents.substr(0, (contents.lastIndexOf("\n")-1));
        /*
          var newEdge=document.createElement('p');
        newEdge.textContent=file_var;
        document.getElementById("g_print").appendChild(newEdge);*/
        split_file();
      }
      r.readAsText(f);
    } else { 
      alert("Failed to load file");
    }   
  }
  document.getElementById('fileinput').addEventListener('change', readSingleFile, false);

function split_file()
{
  var temp = new Array();
  temp = (file_var).split("\n");
  var flag=1;
  for (a in temp) 
  {
    var temp1 = new Array();
    /*
    var newEdge=document.createElement('p');
        newEdge.textContent="yo "+temp[a];
        document.getElementById("g_print").appendChild(newEdge);*/
    temp1=temp[a].split(" ");

    if(flag==1)
    {
      graph_edge=Number(temp1[0]);
      graph_vertex=Number(temp1[1]);
      g_button_drawvertices();
      /*
      var newEdge=document.createElement('p');
      newEdge.textContent="edges: "+graph_edge+" vertices: "+graph_vertex+" ";
      document.getElementById("g_print").appendChild(newEdge);*/
      flag=0;
    }
    else
    {
          if(graph_weighttype.localeCompare("weighted")==0)
          {
            g_button_edgenodes_file(temp1[0],temp1[1],temp1[2]);
            /*
         var newEdge=document.createElement('p');
        newEdge.textContent=temp1[0]+" "+temp1[1]+" "+temp1[2];
        document.getElementById("g_print").appendChild(newEdge);*/
          }
          else
          {/*
            var newEdge=document.createElement('p');
        newEdge.textContent="hi "+temp1[0]+" "+temp1[1]+" "+1;
        document.getElementById("g_print").appendChild(newEdge);*/
            g_button_edgenodes_file(temp1[0],temp1[1],1);
          
          }
    }    
  }
  g_button_drawgraph();
  print_values();
}

function weightvisible()
  {
    document.getElementById("g_weight").style.display = 'none';
  }

function g_button_type_undir()
    {
    
    graph_type="undirected";
    /*    var newEdge=document.createElement('p');
        newEdge.textContent=graph_type+" ";
        document.getElementById("g_print").appendChild(newEdge);*/
    }
function g_button_type(clicked_id_graphtype)
    {
    
   /*   if (check_graph_type(clicked_id_graphtype)==1)
      {
        graph_type="directed";
        var newEdge=document.createElement('p');
        newEdge.textContent=graph_type+" ";
        document.getElementById("g_print").appendChild(newEdge);
      }
      else if (check_graph_type(clicked_id_graphtype)==0)
      {
        graph_type="undirected";
        var newEdge=document.createElement('p');
        newEdge.textContent=graph_type+" ";
        document.getElementById("g_print").appendChild(newEdge);
      }
      else
      {
        var newEdge=document.createElement('p');
        newEdge.textContent="Invalid, Enter again "; 
        document.getElementById("g_print").appendChild(newEdge);
      }*/
    }
    function check_graph_type(clicked_id_graphtype)
    {
      if (clicked_id_graphtype.localeCompare("button_directed")==0)
        return 1;
      else if (clicked_id_graphtype.localeCompare("button_undirected")==0)
        return 0;
    }
  
    function g_button_weighttype(clicked_id_weighttype)
    {   
      if(check_graph_weighttype(clicked_id_weighttype)==1)
      {
        graph_weighttype="weighted";
    //    document.getElementById("g_weight").style.display = 'inline';
        var newEdge=document.createElement('p');
        newEdge.textContent=graph_weighttype+" "; 
        document.getElementById("g_print").appendChild(newEdge);
      }
      else if(check_graph_weighttype(clicked_id_weighttype)==0)
      {
        graph_weighttype="unweighted";
        var newEdge=document.createElement('p');
        newEdge.textContent=graph_weighttype+" ";
        document.getElementById("g_print").appendChild(newEdge);
      }
      else
      {
        var newEdge=document.createElement('p');
        newEdge.textContent="Invalid, Enter again ";
        document.getElementById("g_print").appendChild(newEdge);
      }
    }
    function check_graph_weighttype(clicked_id_weighttype)
    {
      if (clicked_id_weighttype.localeCompare("button_weighted")==0)
        return 1;
      else if (clicked_id_weighttype.localeCompare("button_unweighted")==0)
        return 0;
    }
    function g_button_edgevertex()
    { 
      graph_edge=document.getElementById("g_edge").value;
      graph_vertex=document.getElementById("g_vertex").value;
      var newEdge=document.createElement('p');
      newEdge.textContent="edges: "+graph_edge+" vertices: "+graph_vertex+" ";
      document.getElementById("g_print").appendChild(newEdge);

    }
    function g_button_edgenodes()
    {
      graph_vertex1=document.getElementById("g_vertex1").value;
      graph_vertex2=document.getElementById("g_vertex2").value;
      if (graph_weighttype.localeCompare("weighted")==0)
        graph_weight=document.getElementById("g_weight").value;
      else
        graph_weight=1;
      storeprint_graph()  
    }
    function g_button_edgenodes_file(v1,v2,w)
    {
      graph_vertex1=Number(v1);
      graph_vertex2=Number(v2);
      graph_weight=Number(w);
      storeprint_graph();
    }
    function storeprint_graph()
    { 
      edge_count++;

      if (edge_count>graph_edge)
      {
        var newEdge=document.createElement('p');
        newEdge.textContent="You have already entered number of edges mentioned";
        document.getElementById("print_newedge").appendChild(newEdge);
      }
      else
      {
        var newobj={vertex1:graph_vertex1,vertex2:graph_vertex2,weight:graph_weight};
        myGraph.push(newobj);

       /* if(graph_weighttype.localeCompare("weighted")==0)
        {
          var new_edge="Added edge: "+edge_count+" !\n";
          document.getElementById("print_newedge").innerHTML=new_edge;
        }       
        else if(graph_weighttype.localeCompare("unweighted")==0)
        {
          var new_edge="Added edge: "+edge_count+" !\n";
          document.getElementById("print_newedge").innerHTML=new_edge;
        }*/
      
        if(graph_type.localeCompare("undirected")==0)
        {
          myGraph_undir.push(newobj);
          var newobj={vertex1:graph_vertex2,vertex2:graph_vertex1,weight:graph_weight};
          myGraph_undir.push(newobj);
        }
      }
      
    }
    var width = 10000,
    height = 10000;

var svg = d3.select('body').append('svg')
    .attr('width', width)
    .attr('height', height);
    

    var track_bfs=[];
    var position_bfs=[];
    var myGraph_bfs=[{vertex1:"",vertex2:"",weight:""}];
    var sol_size=0;
    var x,y;
    var time_total=0;

    function bfs(start,mySVG)
    {
      color_bfs[start]=1;
      par_bfs[start]=start;
      dist_bfs[start]=0;
      var front=0;
      var rear=0;
      var que=[];
      que[rear]=start;
      var v;
      x=300;
      y=50;
      mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Added to queue (visited, gray): "+start).attr("font-size", "12px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#000080");  
      time_total++;
      while(front<=rear)
      {
        v=que[front];
        for(var i=position_bfs[v];i<=position_bfs[v]+track_bfs[v]-1;i++)
        {
          if(color_bfs[myGraph_bfs[i].vertex2]==0)
          {
            color_bfs[myGraph_bfs[i].vertex2]=1;
            par_bfs[myGraph_bfs[i].vertex2]=v;
            dist_bfs[myGraph_bfs[i].vertex2]=Number(dist_bfs[v])+1;
            rear++;
            que[rear]=myGraph_bfs[i].vertex2;
            var newobj={vertex1:v,vertex2:myGraph_bfs[i].vertex2,weight:myGraph_bfs[i].weight};
            myGraph_bfs_result.push(newobj);
            sol_size++;
            y=y+40;
            mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Added to queue: "+myGraph_bfs[i].vertex2).attr("font-size", "12px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#000080");
            time_total++;
            y=y+40;
            mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Edge: "+newobj.vertex1+" "+newobj.vertex2+" added to solution").attr("font-size", "12px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#9C9C9C");
            var label_name;
            label_name="label"+newobj.vertex1+""+newobj.vertex2;
            mySVG.append("line").attr("id",label_name).attr("x1",myCoordinates[newobj.vertex1].x1).attr("y1",myCoordinates[newobj.vertex1].y1).attr("x2",myCoordinates[newobj.vertex2].x1).attr("y2",myCoordinates[newobj.vertex2].y1).style("stroke-width",1.5).style("stroke","none").transition().delay(time_total*2000).duration(30).style("stroke","#4169E1");
            g_button_drawvertices_newwindow(mySVG);

            if(graph_weighttype.localeCompare("weighted")==0)
            {
              mySVG.append("text").attr("x",(myCoordinates[newobj.vertex1].x1+(2*myCoordinates[newobj.vertex2].x1))/3).attr("y",(myCoordinates[newobj.vertex1].y1+(2*myCoordinates[newobj.vertex2].y1))/3).attr("font-family", "Helvetica").text(newobj.weight).attr("font-size", "15px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#000080");
            }            
            time_total++;
          }
        }
        front++;
        color_bfs[v]=2;
        y=y+40;
        mySVG.append("text").attr("x",x).attr("y",y).text("").attr("font-family", "Helvetica").text("Removed from queue (black): "+v).attr("font-size", "12px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#000080");
        time_total++;
      }
      
    }
    function bfs_init()
    {
var start=Number(document.getElementById("g_startnode").value);
      var newWindow = window.open('');
        newWindowRoot = d3.select(newWindow.document.body)
            .attr("width","1060px")
            .attr("margin","50px auto");

             var sampleSVG = newWindowRoot;

         var mySVG=sampleSVG.append('svg')
        .attr('width',10000)
        .attr('height', 10000);

      

  //    d3.selectAll("svg > *").remove();
     var newEdge=document.createElement('p');
      newEdge.textContent="Scroll Down!";
      document.getElementById("print_bfs").appendChild(newEdge);
      var start=Number(document.getElementById("g_startnode").value);

 //     g_drawgraph_small();
     g_button_drawvertices_newwindow(mySVG)
   //   print_values();

      mySVG.append("text").attr("x",300).attr("y",20).text("").attr("font-family", "Helvetica").text("BFS").attr("font-size", "20px").attr("fill", "green");
      x=50;
      y=50;
      mySVG.append("text").attr("x",x).attr("y",y).text("").attr("font-family", "Helvetica").text("Start Node: "+start).attr("font-size", "15px").attr("fill", "blue");
      time_total=1;
      for(var i=1;i<=graph_vertex;i++)
      {
        par_bfs[i]=-1;
        dist_bfs[i]=Number.MAX_VALUE;
        color_bfs[i]=0;
      }
      y=y+40;
      mySVG.append("text").attr("x",x).attr("y",y).text("").attr("font-family", "Helvetica").text("Initializing all nodes").attr("font-size", "15px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#000080");
      time_total++;
      y=y+40;
      mySVG.append("text").attr("x",x).attr("y",y).text("").attr("font-family", "Helvetica").text("Created empty queue with initial").attr("font-size", "15px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#000080");
      y=y+15;
      mySVG.append("text").attr("x",x).attr("y",y).text("").attr("font-family", "Helvetica").text("distance of each node set to infinity").attr("font-size", "15px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#000080");
      y=y+15;
      mySVG.append("text").attr("x",x).attr("y",y).text("").attr("font-family", "Helvetica").text("color of each node set to white").attr("font-size", "15px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#000080");
      time_total++;
      for(var i=1;i<=2*graph_edge;i++)
      {
        var newobj=myGraph_undir[i];
        myGraph_bfs.push(newobj);
      }

      myGraph_bfs.sort(function(a, b)
      {
        return a.vertex1-b.vertex1;
      })  
      for(var i=1;i<=graph_vertex;i++)
      {
        track_bfs[i]=0;
        position_bfs[i]=-1;
      }
      
      position_bfs[myGraph_bfs[1].vertex1]=1;
      track_bfs[myGraph_bfs[1].vertex1]++;
      for(var i=2;i<=2*graph_edge;i++)
      {
        track_bfs[myGraph_bfs[i].vertex1]++;
        if(myGraph_bfs[i].vertex1!==myGraph_bfs[i-1].vertex1)
          position_bfs[myGraph_bfs[i].vertex1]=i;
      }
      bfs(start,mySVG);
   /*   var time=0;
      for(var i=1;i<=sol_size;i++)
      {
        y=y+40;
        d3.select("svg").append("text").attr("x",x).attr("y",y).text("Edge: "+myGraph_bfs_result[i].vertex1+" "+myGraph_bfs_result[i].vertex2+" added to solution").attr("font-family", "Helvetica").attr("font-size", "12px").attr("fill", "#9C9C9C");
        var label_name;
        label_name="label"+myGraph_bfs_result[i].vertex1+""+myGraph_bfs_result[i].vertex2;
        d3.select("svg").append("line").attr("id",label_name).attr("x1",myCoordinates[myGraph_bfs_result[i].vertex1].x1).attr("y1",myCoordinates[myGraph_bfs_result[i].vertex1].y1).attr("x2",myCoordinates[myGraph_bfs_result[i].vertex2].x1).attr("y2",myCoordinates[myGraph_bfs_result[i].vertex2].y1).style("stroke-width",0).style("stroke","white").transition().duration(1000).delay(time*2000).style("stroke-width",1.5).style("stroke","#4169E1");
        if(graph_weighttype.localeCompare("weighted")==0)
        {
          d3.select("svg").append("text").attr("x",(myCoordinates[myGraph_bfs_result[i].vertex1].x1+(2*myCoordinates[myGraph_bfs_result[i].vertex2].x1))/3).attr("y",(myCoordinates[myGraph_bfs_result[i].vertex1].y1+(2*myCoordinates[myGraph_bfs_result[i].vertex2].y1))/3).text("").attr("font-family", "Helvetica").attr("font-size", "0px").attr("fill", "#000080").transition().duration(1000).delay(time*2000).text(temp_graph_weight).attr("font-family", "Helvetica").attr("font-size", "15px").attr("fill", "#000080");
        }
        time++;
      }  */
    }

    var track_dfs=[];
    var position_dfs=[];
    var myGraph_dfs=[{vertex1:"",vertex2:"",weight:""}];
    sol_size=0;
    var x,y;
    time_total=0;
    function dfs(start,mySVG)
    {
      vis_dfs[start]=1;
      y=y+40;
      mySVG.append("text").attr("x",x).attr("y",y).text("Added to stack (visited, gray): "+start).attr("font-family", "Helvetica").attr("font-size", "12px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#000080");
      time_total++;
      
      for(var i=position_dfs[start];i<=position_dfs[start]+track_dfs[start]-1;i++)
      {
        if(vis_dfs[myGraph_dfs[i].vertex2]==0)
        {
          dfs(myGraph_dfs[i].vertex2,mySVG);
          var newobj={vertex1:start,vertex2:myGraph_dfs[i].vertex2,weight:myGraph_dfs[i].weight};
          myGraph_dfs_result.push(newobj);
          sol_size++;
          y=y+40;
          mySVG.append("text").attr("x",x).attr("y",y).text("Edge: "+newobj.vertex1+" "+newobj.vertex2+" added to solution").attr("font-family", "Helvetica").attr("font-size", "12px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#9C9C9C");
          time_total++;
          var label_name;
          label_name="label"+newobj.vertex1+""+newobj.vertex2;
          mySVG.append("line").attr("id",label_name).attr("x1",myCoordinates[newobj.vertex1].x1).attr("y1",myCoordinates[newobj.vertex1].y1).attr("x2",myCoordinates[newobj.vertex2].x1).attr("y2",myCoordinates[newobj.vertex2].y1).style("stroke-width",1.5).style("stroke","none").transition().delay(time_total*2000).duration(30).style("stroke","#4169E1");
           g_button_drawvertices_newwindow(mySVG);
          if(graph_weighttype.localeCompare("weighted")==0)
          {
            mySVG.append("text").attr("x",(myCoordinates[newobj.vertex1].x1+(2*myCoordinates[newobj.vertex2].x1))/3).attr("y",(myCoordinates[newobj.vertex1].y1+(2*myCoordinates[newobj.vertex2].y1))/3).text("").attr("font-family", "Helvetica").attr("font-size", "15px").attr("fill", "#000080").transition().delay(time_total*2000).duration(30).text(newobj.weight).attr("fill", "#000080");
          }            
          time_total++; 
        }
      }
      y=y+40;
      mySVG.append("text").attr("x",x).attr("y",y).text("Removed from stack (black): "+start).attr("font-family", "Helvetica").attr("font-size", "12px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#000080");
    }
    function dfs_init()
    {  

      var start=Number(document.getElementById("g_startnode").value);
      var newWindow = window.open('');
        newWindowRoot = d3.select(newWindow.document.body)
            .attr("width","1060px")
            .attr("margin","50px auto");

             var sampleSVG = newWindowRoot;

         var mySVG=sampleSVG.append('svg')
        .attr('width',10000)
        .attr('height', 10000);


        var newEdge=document.createElement('p');
      newEdge.textContent="Scroll Down!";
      document.getElementById("print_dfs").appendChild(newEdge);
      var start=Number(document.getElementById("g_startnode").value);
          
 //     d3.selectAll("svg > *").remove();
 //   g_button_drawgraph();
 //     g_button_drawvertices();
//     print_values();     
g_button_drawvertices_newwindow(mySVG);
    mySVG.append("text").attr("x",300).attr("y",20).text("").attr("font-family", "Helvetica").text("DFS").attr("font-size", "20px").attr("fill", "green");
      x=50;
      y=50;
      
      mySVG.append("text").attr("x",x).attr("y",y).text("").attr("font-family", "Helvetica").text("Start Node: "+start).attr("font-size", "15px").attr("fill", "blue");

      time_total=1;
      for(var i=1;i<=graph_vertex;i++)
      {
        vis_dfs[i]=0;
      }
      y=y+40;
      mySVG.append("text").attr("x",x).attr("y",y).text("Initializing all nodes").attr("font-family", "Helvetica").attr("font-size", "15px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "blue");
      time_total++;
      y=y+40;
      mySVG.append("text").attr("x",x).attr("y",y).text("").attr("font-family", "Helvetica").text("Created empty stack").attr("font-size", "15px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "blue");
      time_total++;
      for(var i=1;i<=2*graph_edge;i++)
      {
        var newobj=myGraph_undir[i];
        myGraph_dfs.push(newobj);
      }
      myGraph_dfs.sort(function(a, b)
      {
        return a.vertex1-b.vertex1;
      })  
  /*    for(var i=1;i<=2*graph_edge;i++)
      {
        y=y+40;
        mySVG.append("text").attr("x",x).attr("y",y).text("").attr("font-family", "Helvetica").text(myGraph_dfs[i].vertex1+" "+myGraph_dfs[i].vertex2).attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "blue");
      }*/
      for(var i=1;i<=graph_vertex;i++)
      {
        track_dfs[i]=0;
        position_dfs[i]=-1;
      }

      position_dfs[myGraph_dfs[1].vertex1]=1;
      track_dfs[myGraph_dfs[1].vertex1]++;
      
      for(var i=2;i<=2*graph_edge;i++)
      {
        track_dfs[myGraph_dfs[i].vertex1]++;
        if(myGraph_dfs[i].vertex1!==myGraph_dfs[i-1].vertex1)
          position_dfs[myGraph_dfs[i].vertex1]=i;
      }
      x=300;
      y=10;
      dfs(start,mySVG);
     /*
      var time=0;
      for(var i=1;i<=sol_size;i++)
      {
        y=y+40;
        d3.select("svg").append("text").attr("x",x).attr("y",y).text("Edge: "+myGraph_dfs_result[i].vertex1+" "+myGraph_dfs_result[i].vertex2+" added to solution").attr("font-family", "Helvetica").attr("font-size", "12px").attr("fill", "#9C9C9C");
        var label_name;
        label_name="label"+myGraph_dfs_result[i].vertex1+""+myGraph_dfs_result[i].vertex2;
        d3.select("svg").append("line").attr("id",label_name).attr("x1",myCoordinates[myGraph_dfs_result[i].vertex1].x1).attr("y1",myCoordinates[myGraph_dfs_result[i].vertex1].y1).attr("x2",myCoordinates[myGraph_dfs_result[i].vertex2].x1).attr("y2",myCoordinates[myGraph_dfs_result[i].vertex2].y1).style("stroke-width",1.5).style("stroke","#9C9C9C").transition().duration(1000).delay(time*2000).style("stroke","#4169E1");
        time++;
      }*/
    }
    time_total=0;
    function find(vertex)
    {
      if(vertex!=par_krusk[vertex])
        return find(par_krusk[vertex]);
      return par_krusk[vertex];
    }
    function union(v1,v2)
    {
      var x1=find(v1);
      var x2=find(v2);

      if (rank_krusk[x1]<rank_krusk[x2])
        par_krusk[x1]=x2;
      else if (rank_krusk[x2]<rank_krusk[x1])
        par_krusk[x2]=x1;
      else
      {
        par_krusk[x2]=x1;
        rank_krusk[x1]++;
      }
    }  
/*
    function drawChart(newWindowRoot){
    var sampleSVG = newWindowRoot;
    
      sampleSVG
        .append("button")
        .text(myCoordinates[1].x1+" "+myCoordinates[1].y1)
        .attr("width", 100)
        .attr("height", 100);

       sampleSVG
        .append("button")
        .text(myCoordinates[2].x1+" "+myCoordinates[2].y1)
        .attr("width", 100)
        .attr("height", 100);

         var mySVG=sampleSVG.append('svg')
        .attr('width',10000)
        .attr('height', 10000);

        mySVG
        .append("circle")
        .style("stroke", "gray")
        .style("fill", "blue")
        .attr("r", 20)
        .attr("cx", myCoordinates[1].x1)
        .attr("cy", myCoordinates[1].y1);

        mySVG
        .append("circle")
        .style("stroke", "gray")
        .style("fill", "blue")
        .attr("r", 20)
        .attr("cx", myCoordinates[2].x1)
        .attr("cy", myCoordinates[2].y1);

        mySVG.append("text").attr("x",myCoordinates[1].x1-5).attr("y",myCoordinates[1].y1+5).text(1).attr("font-family", "Helvetica").attr("font-size", "20px").attr("fill", "#00868B");




/*      for(var i=0;i<graph_vertex;i++)
      {

       sampleSVG.append("circle").attr("cx", myCoordinates[i+1].x1).attr("cy", myCoordinates[i+1].y1).attr("r", 20).attr("stroke","#00BFFF").attr("stroke-width",2).style("fill", "#F5F5F5");
        
        
      }

        } */
        var delay=1000; //1 seconds


    function kruskal()
    {
        var newWindow = window.open('');
        newWindowRoot = d3.select(newWindow.document.body)
            .attr("width","1060px")
            .attr("margin","50px auto");

   //     drawChart(newWindowRoot);

   var sampleSVG = newWindowRoot;

         var mySVG=sampleSVG.append('svg')
        .attr('width',10000)
        .attr('height', 10000);



  //  g_button_drawgraph();
  g_button_drawvertices_newwindow(mySVG)
  var newEdge=document.createElement('p');
      newEdge.textContent="Scroll Down!";
      document.getElementById("kruskal_mstedge").appendChild(newEdge);

      var mst_cost=0;
  /*  var newEdge=document.createElement('p');
      newEdge.textContent="Kruskal Output\n";
      document.getElementById("kruskal_mstedge").appendChild(newEdge);*/

      for (var i=1;i<=graph_vertex;i++)
      {
        par_krusk[i]=i;
        rank_krusk[i]=0;
      }
      var myGraph_krusk=[{vertex1:"",vertex2:"",weight:""}];
      for(var i=1;i<=graph_edge;i++)
      {
        var newobj=myGraph[i];
        myGraph_krusk.push(newobj);
      }

      myGraph_krusk.sort(function(a, b)
      {
        return a.weight-b.weight;
      })
      mySVG.append("text").attr("x",300).attr("y",20).text("").attr("font-family", "Helvetica").text("Kruskals").attr("font-size", "20px").attr("fill", "green");
      var x=50;
      var y=50;

        time_total=1;
        mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Sorted edge-wise:").attr("font-size", "20px").attr("fill", "#008B45");

/*
        mySVG.append("text").attr("x",x).attr("y",y+40).attr("font-family", "Helvetica").text("Hi").attr("font-size", "20px").attr("fill", "#008B45").transition().delay(time_total*2000).duration(30).attr("fill", "red");

      time_total++;*/

      if(graph_weighttype.localeCompare("weighted")==0)
      {
        for(var i=1;i<=graph_edge;i++)
        {
          y=y+40;
          mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text(myGraph_krusk[i].vertex1+" "+myGraph_krusk[i].vertex2+"-->"+myGraph_krusk[i].weight).attr("font-size", "15px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#008B45");
    //     time_total++;
        }
      }
      else
      {
        for(var i=1;i<=graph_edge;i++)
        {
          y=y+40;
          mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text(myGraph_krusk[i].vertex1+" "+myGraph_krusk[i].vertex2).attr("font-size", "15px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#008B45");
   //       time_total++;
        }
      }
      time_total++;
      var ptr=1;
      var count=0;
      var time=0;
      y=50;;
      while(count!=graph_vertex-1)
      {
        x=300;
        y=y+40;
        mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Testing edge between: "+myGraph_krusk[ptr].vertex1+" "+myGraph_krusk[ptr].vertex2).attr("font-size", "12px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#000080");
        time_total++;
        var v1=myGraph_krusk[ptr].vertex1;
        var v2=myGraph_krusk[ptr].vertex2;
        var x1=find(v1);
        var x2=find(v2);
        y=y+40;
        if(x1!=x2)
        {
          mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Edge: "+myGraph_krusk[ptr].vertex1+" "+myGraph_krusk[ptr].vertex2+" added to mst").attr("font-size", "12px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#9C9C9C");
          myGraph_krusk_mst.push(myGraph_krusk[ptr]);
          mst_cost=mst_cost+Number(myGraph_krusk[ptr].weight);
          count++;
          union(myGraph_krusk[ptr].vertex1,myGraph_krusk[ptr].vertex2);

        /*var newEdge=document.createElement('p');
          newEdge.textContent=myGraph_krusk[ptr].vertex1+" "+myGraph_krusk[ptr].vertex2+"\n";
          document.getElementById("kruskal_mstedge").appendChild(newEdge);
        */
          var label_name;
          label_name="label"+myGraph_krusk[ptr].vertex1+""+myGraph_krusk[ptr].vertex2;
          mySVG.append("line").attr("id",label_name).attr("x1",myCoordinates[myGraph_krusk[ptr].vertex1].x1).attr("y1",myCoordinates[myGraph_krusk[ptr].vertex1].y1).attr("x2",myCoordinates[myGraph_krusk[ptr].vertex2].x1).attr("y2",myCoordinates[myGraph_krusk[ptr].vertex2].y1).style("stroke-width",1.5).style("stroke","none").transition().delay(time_total*2000).duration(30).style("stroke","#4169E1");
           g_button_drawvertices_newwindow(mySVG);
          if(graph_weighttype.localeCompare("weighted")==0)
          {
            mySVG.append("text").attr("x",(myCoordinates[myGraph_krusk[ptr].vertex1].x1+(2*myCoordinates[myGraph_krusk[ptr].vertex2].x1))/3).attr("y",(myCoordinates[myGraph_krusk[ptr].vertex1].y1+(2*myCoordinates[myGraph_krusk[ptr].vertex2].y1))/3).text("").attr("font-family", "Helvetica").text(myGraph_krusk[ptr].weight).attr("font-size", "15px").attr("fill", "#000080").transition().delay(time_total*2000).duration(30).attr("fill", "#000080");
          }   
          time_total++;
         }
         else
         {
            mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Edge: "+myGraph_krusk[ptr].vertex1+" "+myGraph_krusk[ptr].vertex2+" NOT added to mst; forms a cycle").attr("font-size", "12px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#000080");
            time_total++;
         }
        ptr++;
      }
      y=y+40;
      mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("("+graph_vertex+"-1) edges complete").attr("font-size", "12px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#000080");
      time_total++;
      for(var i=ptr;i<=graph_edge;i++)
      {
        y=y+40;
        mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Edge: "+myGraph_krusk[i].vertex1+" "+myGraph_krusk[i].vertex2+" NOT added to mst; forms a cycle").attr("font-size", "12px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#000080");
        time_total++;
      }
      y=y+40;
      mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Algorithm Terminates").attr("font-size", "15px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "orange");
      time_total++;
      y=y+40;
      mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Mst cost: "+mst_cost).attr("font-size", "15px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "orange");
      time_total++;
    }
    //source for priority queue: http://codereview.stackexchange.com/questions/15853/javascript-priorityqueue-based-on-object-property

    var que_len=0;
    var que=[];

    function get_right_of(index_func) 
    {
      return (index_func * 2) + 2;
    }
    function get_left_of(index_func) 
    {
      return (index_func * 2) + 1;
    }
    function evaluate(self, target) 
    {
        if(typeof que[target] === 'undefined' || typeof que[self] === 'undefined')
          return false;
        return (que[self].key < que[target].key);
    }
    function swap_till_correct_que(value)
    {
      var left = get_left_of(value)
      var right = get_right_of(value);

    if (evaluate(left,value)) 
      {
        swap(value, left);
        swap_till_correct_que(left);
      } 
      else if (evaluate(right, value)) 
      {
        swap(value, right);
        swap_till_correct_que(right);
      }
      else if (value === 0)
        return;
      else 
        swap_till_correct_que(0);      

    }
    function dijk_pop()
    {
      if (que_len <= 0) 
      {
        var newMsg=document.createElement('p');
        newMsg.textContent="Empty Queue\n";
        document.getElementById("print_dijkstra").appendChild(newMsg);
      }
      else
      {
        var oldRoot = que[0];
        var newRoot = que.pop();
        que_len--;
        que[0] = newRoot;
        swap_till_correct_que(0);
    //    return oldRoot;
      }    
    }
    function prim_pop()
    {
      if (que_len <= 0) 
      {
        var newMsg=document.createElement('p');
        newMsg.textContent="Empty Queue\n";
        document.getElementById("prim_mstedge").appendChild(newMsg);
      }
      else
      {
        var oldRoot = que[0];
        var newRoot = que.pop();
        que_len--;
        que[0] = newRoot;
        swap_till_correct_que(0);
    //    return oldRoot;
      }    
    }
    function priorque_top()
    {
      return que[0];
    }
    function isEmpty()
    {
      if (que_len <= 0) return 1;
      else return 0;
    }
    function swap(self, target)
    {
      var placeHolder = que[self];
      que[self] = que[target];
      que[target] = placeHolder;
    }    
    function get_parent_of(index_prim)
    {
      return Math.floor((index_prim - 1) / 2);
    }
    function bubbleup(index_prim)
    {
        
      if (index_prim === 0)
        return;
        
      var parent = get_parent_of(index_prim);
      if (evaluate(index_prim, parent)) 
      {        
        swap(index_prim, parent);
        bubbleup(parent);
      } 
      else
        return;
    }
    function priorque_insert(prim_elem)
    {
      que.push(prim_elem);
      que_len++;
      bubbleup(que_len-1);
    }
    time_total=0;
    function prim()
    {

      var newWindow = window.open('');
        newWindowRoot = d3.select(newWindow.document.body)
            .attr("width","1060px")
            .attr("margin","50px auto");

             var sampleSVG = newWindowRoot;

         var mySVG=sampleSVG.append('svg')
        .attr('width',10000)
        .attr('height', 10000);

 var newEdge=document.createElement('p');
      newEdge.textContent="Scroll Down!";
      document.getElementById("prim_mstedge").appendChild(newEdge);

      var start=Number(document.getElementById("g_startnode").value);
      var r=Number(document.getElementById("g_startnode").value);
   //   d3.selectAll("svg > *").remove();
      //    g_button_drawgraph();
     
//      g_drawgraph_small();
 //     g_button_drawvertices();
 g_button_drawvertices_newwindow(mySVG);

 //     print_values();
  var newEdge=document.createElement('p');
      var mst_cost=0;
      mySVG.append("text").attr("x",300).attr("y",20).text("").attr("font-family", "Helvetica").text("Prims").attr("font-size", "20px").attr("fill", "green");
      var x=50;
      var y=50;
      mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Start Node: "+r).attr("font-size", "15px").attr("fill", "blue");
      time_total=1;
      for(var i=1;i<=graph_vertex;i++)
      {       
        par_prim[i]=-1;       
        key_prim[i]=Number.MAX_VALUE;
        pres_prim[i]=1;
      }
      key_prim[r]=0;
      pres_prim[r]=0;
      y=y+40;
     mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Initializing all nodes").attr("font-size", "15px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "blue");
      time_total++;
      for(var i=1;i<=graph_vertex;i++)
      {
        var newobj={vertex:i,key:key_prim[i]};
        priorque_insert(newobj);
      }
      y=y+40;
      mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Created priority queue with initial").attr("font-size", "15px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "blue");
      y=y+15;
      mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("key of each node set to infinity").attr("font-size", "15px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "blue");
      time_total++;
      var myGraph_prim=[{vertex1:"",vertex2:"",weight:""}];
      for(var i=1;i<=2*graph_edge;i++)
      {
        var newobj=myGraph_undir[i];
        myGraph_prim.push(newobj);
      }
      myGraph_prim.sort(function(a, b)
      {
        return a.vertex1-b.vertex1;
      })
      var track=[];
      var position=[];
      for(var i=1;i<=graph_vertex;i++)
      {
        track[i]=0;
        position[i]=-1;
      }
      position[myGraph_prim[1].vertex1]=1;
      track[myGraph_prim[1].vertex1]++;
      for(var i=2;i<=2*graph_edge;i++)
      {
        track[myGraph_prim[i].vertex1]++;
        if(myGraph_prim[i].vertex1!==myGraph_prim[i-1].vertex1)
          position[myGraph_prim[i].vertex1]=i;
      }
      x=300;
      y=10;
      while (isEmpty()===0)
      { 
        var newobj=priorque_top();
        prim_pop();
        
        if(newobj.key<=key_prim[newobj.vertex])
        {   
            y=y+40;
            mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Popped node: "+newobj.vertex+" with key: "+newobj.key).attr("font-size", "12px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#000080");  
            time_total++;  
            pres_prim[newobj.vertex]=0;
            for(var i=position[newobj.vertex];i<=position[newobj.vertex]+track[newobj.vertex]-1;i++)
            {
                if(pres_prim[myGraph_prim[i].vertex2]===1 && myGraph_prim[i].weight<key_prim[myGraph_prim[i].vertex2])
                {           
                    par_prim[myGraph_prim[i].vertex2]=newobj.vertex;   
                    key_prim[myGraph_prim[i].vertex2]=myGraph_prim[i].weight;             
                    var newobj1={vertex:myGraph_prim[i].vertex2,key:key_prim[myGraph_prim[i].vertex2]};
                    priorque_insert(newobj1);
                    y=y+40;
                    mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Pushed node: "+newobj1.vertex+" with key: "+newobj1.key).attr("font-size", "12px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#000080"); 
                    time_total++; 
                }
            }           
            if(newobj.vertex!==r)
            {
                var newobj2={vertex1:newobj.vertex,vertex2:par_prim[newobj.vertex],weight:newobj.key};
                myGraph_prim_mst.push(newobj2);
                mst_cost=mst_cost+Number(newobj2.weight);
                y=y+40;
                mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Edge: "+newobj2.vertex1+" "+newobj2.vertex2+" added to mst").attr("font-size", "12px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#9C9C9C");
           //     time_total++;
                var label_name;
                label_name="label"+newobj2.vertex1+""+newobj2.vertex2;
                mySVG.append("line").attr("id",label_name).attr("x1",myCoordinates[newobj2.vertex1].x1).attr("y1",myCoordinates[newobj2.vertex1].y1).attr("x2",myCoordinates[newobj2.vertex2].x1).attr("y2",myCoordinates[newobj2.vertex2].y1).style("stroke-width",1.5).style("stroke","none").transition().delay(time_total*2000).duration(30).style("stroke","#4169E1");
                 g_button_drawvertices_newwindow(mySVG);
                if(graph_weighttype.localeCompare("weighted")==0)
                {
                  mySVG.append("text").attr("x",(myCoordinates[newobj2.vertex1].x1+(2*myCoordinates[newobj2.vertex2].x1))/3).attr("y",(myCoordinates[newobj2.vertex1].y1+(2*myCoordinates[newobj2.vertex2].y1))/3).text(newobj2.weight).attr("font-family", "Helvetica").attr("font-size", "15px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#000080");
                }   
                time_total++;
            }
        }
      }
  /*
      var time=0;
      for(var i=1;i<graph_vertex;i++)
      {
        var label_name;
        label_name="label"+myGraph_prim_mst[i].vertex1+""+myGraph_prim_mst[i].vertex2;
        d3.select("svg").append("line").attr("id",label_name).attr("x1",myCoordinates[myGraph_prim_mst[i].vertex1].x1).attr("y1",myCoordinates[myGraph_prim_mst[i].vertex1].y1).attr("x2",myCoordinates[myGraph_prim_mst[i].vertex2].x1).attr("y2",myCoordinates[myGraph_prim_mst[i].vertex2].y1).style("stroke-width",1.5).style("stroke","#9C9C9C").transition().duration(1000).delay(time*2000).style("stroke","#4169E1");
        var newEdge=document.createElement('p');
        newEdge.textContent=myGraph_prim_mst[i].vertex1+" "+myGraph_prim_mst[i].vertex2+" "+myGraph_prim_mst[i].weight+"\n";
        document.getElementById("prim_mstedge").appendChild(newEdge);
        time++;
      }
      var newEdge=document.createElement('p');
      newEdge.textContent="Prim's Output\n";
      document.getElementById("prim_mstedge").appendChild(newEdge);*/
      y=y+40;
      mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Algorithm Terminates").attr("font-size", "15px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "orange");
      time_total++;
      y=y+40;
      mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Mst cost: "+mst_cost).attr("font-size", "15px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "orange");
    }
    time_total=0;
    function dijkstra()
    {

    var newWindow = window.open('');
        newWindowRoot = d3.select(newWindow.document.body)
            .attr("width","1060px")
            .attr("margin","50px auto");

   //     drawChart(newWindowRoot);

   var sampleSVG = newWindowRoot;

         var mySVG=sampleSVG.append('svg')
        .attr('width',10000)
        .attr('height', 10000);

      var newEdge=document.createElement('p');
      newEdge.textContent="Scroll Down!";
      document.getElementById("print_dijkstra").appendChild(newEdge);
      var start=Number(document.getElementById("g_startnode").value);
      var r=Number(document.getElementById("g_startnode").value);
//      d3.selectAll("svg > *").remove();
//    g_button_drawgraph();
//      g_drawgraph_small();
//      g_button_drawvertices();
g_button_drawvertices_newwindow(mySVG)

 //     print_values();
 mySVG.append("text").attr("x",300).attr("y",20).text("").attr("font-family", "Helvetica").text("Dijkstra").attr("font-size", "20px").attr("fill", "green");
      var x=50;
      var y=50;
      mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Start Node: "+r).attr("font-size", "15px").attr("fill", "blue");
      time_total=1;
      for(var i=1;i<=graph_vertex;i++)
      {       
        par_dijk[i]=-1;       
        key_dijk[i]=Number.MAX_VALUE;;
        pres_dijk[i]=1;
      }
            
      key_dijk[r]=0;
      pres_dijk[r]=0;
      y=y+40;
      mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Initializing all nodes").attr("font-size", "15px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "blue");
      time_total++;
      for(var i=1;i<=graph_vertex;i++)
      {
        var newobj={vertex:i,key:key_dijk[i]};
        priorque_insert(newobj);
      }
      y=y+40;
      mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Created priority queue with initial").attr("font-size", "15px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "blue");
      y=y+15;
      mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("key of each node set to infinity").attr("font-size", "15px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "blue");
      time_total++;
      var myGraph_dijk=[{vertex1:"",vertex2:"",weight:""}];
      for(var i=1;i<=2*graph_edge;i++)
      {
        var newobj=myGraph_undir[i];
        myGraph_dijk.push(newobj);
      }
      myGraph_dijk.sort(function(a, b)
      {
        return a.vertex1-b.vertex1;
      })
      var track=[];
      var position=[];
      for(var i=1;i<=graph_vertex;i++)
      {
        track[i]=0;
        position[i]=-1;
      }
      
      position[myGraph_dijk[1].vertex1]=1;
      track[myGraph_dijk[1].vertex1]++;
      for(var i=2;i<=2*graph_edge;i++)
      {
        track[myGraph_dijk[i].vertex1]++;
        if(myGraph_dijk[i].vertex1!==myGraph_dijk[i-1].vertex1)
          position[myGraph_dijk[i].vertex1]=i;
      }
      x=300;
      y=50;
      while (isEmpty()===0)
      { 
        var newobj=priorque_top();
        dijk_pop();
        
        if(newobj.key<=key_dijk[newobj.vertex])
        {     
        	y=y+40;
            mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Popped node: "+newobj.vertex+" with key: "+newobj.key).attr("font-size", "12px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#000080");  
            time_total++;  
            pres_dijk[newobj.vertex]=0;
            for(var i=position[newobj.vertex];i<=position[newobj.vertex]+track[newobj.vertex]-1;i++)
            {
                if(pres_dijk[myGraph_dijk[i].vertex2]===1 && myGraph_dijk[i].weight<key_dijk[myGraph_dijk[i].vertex2])
                {           
                    par_dijk[myGraph_dijk[i].vertex2]=newobj.vertex;   
                    key_dijk[myGraph_dijk[i].vertex2]=myGraph_dijk[i].weight;             
                    var newobj1={vertex:myGraph_dijk[i].vertex2,key:key_dijk[myGraph_dijk[i].vertex2]};             
                    priorque_insert(newobj1);
                    y=y+40;
                    mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Pushed node: "+newobj1.vertex+" with key: "+newobj1.key).attr("font-size", "12px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#000080"); 
                    time_total++; 
                }
            }           
            if(newobj.vertex!==r)
            {
                var newobj2={vertex1:newobj.vertex,vertex2:par_dijk[newobj.vertex],weight:newobj.key};
                myGraph_dijk_result.push(newobj2);
                y=y+40;
                mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Edge: "+newobj2.vertex1+" "+newobj2.vertex2+" added to solution").attr("font-size", "12px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#9C9C9C");
    //            time_total++;
                var label_name;
                label_name="label"+newobj2.vertex1+""+newobj2.vertex2;
                mySVG.append("line").attr("id",label_name).attr("x1",myCoordinates[newobj2.vertex1].x1).attr("y1",myCoordinates[newobj2.vertex1].y1).attr("x2",myCoordinates[newobj2.vertex2].x1).attr("y2",myCoordinates[newobj2.vertex2].y1).style("stroke-width",1.5).style("stroke","none").transition().delay(time_total*2000).duration(30).style("stroke","#4169E1");
                 g_button_drawvertices_newwindow(mySVG);
                if(graph_weighttype.localeCompare("weighted")==0)
                {
                  mySVG.append("text").attr("x",(myCoordinates[newobj2.vertex1].x1+(2*myCoordinates[newobj2.vertex2].x1))/3).attr("y",(myCoordinates[newobj2.vertex1].y1+(2*myCoordinates[newobj2.vertex2].y1))/3).attr("font-family", "Helvetica").text(newobj2.weight).attr("font-size", "15px").attr("fill", "#000080").transition().delay(time_total*2000).duration(30).attr("fill", "#000080");
                }   
                time_total++;
            }
        }
      }
/*
      var time=0;
      for(var i=1;i<graph_vertex;i++)
      {
        var label_name;
        label_name="label"+myGraph_dijk_result[i].vertex1+""+myGraph_dijk_result[i].vertex2;
        d3.select("svg").append("line").attr("id",label_name).attr("x1",myCoordinates[myGraph_dijk_result[i].vertex1].x1).attr("y1",myCoordinates[myGraph_dijk_result[i].vertex1].y1).attr("x2",myCoordinates[myGraph_dijk_result[i].vertex2].x1).attr("y2",myCoordinates[myGraph_dijk_result[i].vertex2].y1).style("stroke-width",1.5).style("stroke","#9C9C9C").transition().duration(1000).delay(time*2000).style("stroke","#4169E1");
        time++;
      }
  */
      y=y+40;
      MySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Algorithm Terminates").attr("font-size", "15px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "orange");
    }

    var position_bellman=[];
    var track_bellman=[];
    var myGraph_bellman=[{vertex1:"",vertex2:"",weight:""}];
    var neg_cycle=0;
    var x,y;

    function relax(u,v,w,j,mySVG)
    {
      if (Number(dist_bellman[v])>Number(dist_bellman[u])+Number(myGraph_bellman[j].weight))
      {
        dist_bellman[v]=Number(dist_bellman[u])+Number(myGraph_bellman[j].weight);
        par_bellman[v]=u;
        y=y+40;
        mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Dist "+v+": Dist "+u+" + Weight b/w "+v+" & "+u).attr("font-size", "12px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#000080");
//        time_total++;
        y=y+15;
        mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("= "+dist_bellman[u]+" + "+myGraph_bellman[j].weight+" = "+dist_bellman[v]).attr("font-size", "12px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#000080");
        time_total++;
      }
    }
    function bellman(start,mySVG)
    {
      dist_bellman[start]=0;
      par_bellman[start]=start;
      result_size=0;
      x=300;
      y=10;
      for (var i=1;i<=graph_vertex-1;i++)
      {
        for (var k=1;k<=graph_vertex;k++)
        {
          for (var j=position_bellman[k];j<=position_bellman[k]+track_bellman[k]-1;j++)
          {
            relax(k,myGraph_bellman[j].vertex2,myGraph_bellman[j].weight,j,mySVG);
          }
        }
      }
      for (var k=1;k<=graph_vertex;k++)
      {
        for (var j=position_bellman[k];j<=position_bellman[k]+track_bellman[k]-1;j++)
        {
          if(dist_bellman[myGraph_bellman[j].vertex2]>dist_bellman[k]+myGraph_bellman[j].weight)
          {
            neg_cycle=1;
            return;
          }
        }
      }
      for (var k=1;k<=graph_vertex;k++)
      {
          if(k!==start)
          {
            var newobj={vertex1:k,vertex2:par_bellman[k],weight:dist_bellman[k]};
            myGraph_bellman_result.push(newobj);
            result_size++;
          }
      }
    }
    function bellman_init()
    { 
    	var newWindow = window.open('');
        newWindowRoot = d3.select(newWindow.document.body)
            .attr("width","1060px")
            .attr("margin","50px auto");

             var sampleSVG = newWindowRoot;

         var mySVG=sampleSVG.append('svg')
        .attr('width',10000)
        .attr('height', 10000);

      var newEdge=document.createElement('p');
    newEdge.textContent="Scroll Down!";
      document.getElementById("print_bellman").appendChild(newEdge);
      var start=Number(document.getElementById("g_startnode").value);  
      var start=Number(document.getElementById("g_startnode").value);  
  //    d3.selectAll("svg > *").remove();
      //    g_button_drawgraph();
 //     g_drawgraph_small();
  //   g_button_drawvertices();
  g_button_drawvertices_newwindow(mySVG);
  mySVG.append("text").attr("x",300).attr("y",20).text("").attr("font-family", "Helvetica").text("Bellman Ford").attr("font-size", "20px").attr("fill", "green");
//      print_values();     
      x=50;
      y=40;
      time_total=0;
      mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Start Node: "+start).attr("font-size", "15px").attr("fill", "blue");
      time_total++;

      for(var i=1;i<=graph_vertex;i++)
      {
        par_bellman[i]=-1;
        dist_bellman[i]=Number.MAX_VALUE;
      }
      y=y+40;
      mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Initializing all nodes").attr("font-size", "15px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "blue");
      y=y+15;
      mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("distance between all nodes ").attr("font-size", "15px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "blue");
      y=y+15;
      mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("set to infinity").attr("font-size", "15px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "blue");
      time_total++;
      for(var i=1;i<=2*graph_edge;i++)
      {
        var newobj=myGraph_undir[i];
        myGraph_bellman.push(newobj);
      }
      myGraph_bellman.sort(function(a, b)
      {
        return a.vertex1-b.vertex1;
      })  
      for(var i=1;i<=graph_vertex;i++)
      {
        track_bellman[i]=0;
        position_bellman[i]=-1;
      }
      
      position_bellman[myGraph_bellman[1].vertex1]=1;
      track_bellman[myGraph_bellman[1].vertex1]++;
      for(var i=2;i<=2*graph_edge;i++)
      {
        track_bellman[myGraph_bellman[i].vertex1]++;
        if(myGraph_bellman[i].vertex1!==myGraph_bellman[i-1].vertex1)
          position_bellman[myGraph_bellman[i].vertex1]=i;
      }
      bellman(start,mySVG);
      if(neg_cycle==1)
        return;
      for(var i=1;i<=result_size;i++)
      {
        y=y+40;
        mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Edge: "+myGraph_bellman_result[i].vertex1+" "+myGraph_bellman_result[i].vertex2+" added to solution").attr("font-size", "12px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#9C9C9C");
  //      time_total++;
        var label_name;
        label_name="label"+myGraph_bellman_result[i].vertex1+""+myGraph_bellman_result[i].vertex2;
        mySVG.append("line").attr("id",label_name).attr("x1",myCoordinates[myGraph_bellman_result[i].vertex1].x1).attr("y1",myCoordinates[myGraph_bellman_result[i].vertex1].y1).attr("x2",myCoordinates[myGraph_bellman_result[i].vertex2].x1).attr("y2",myCoordinates[myGraph_bellman_result[i].vertex2].y1).style("stroke-width",1.5).style("stroke","none").transition().delay(time_total*2000).duration(30).style("stroke","#4169E1");
         g_button_drawvertices_newwindow(mySVG);
        if(graph_weighttype.localeCompare("weighted")==0)
        {
          mySVG.append("text").attr("x",(myCoordinates[myGraph_bellman_result[i].vertex1].x1+(2*myCoordinates[myGraph_bellman_result[i].vertex2].x1))/3).attr("y",(myCoordinates[myGraph_bellman_result[i].vertex1].y1+(2*myCoordinates[myGraph_bellman_result[i].vertex2].y1))/3).attr("font-family", "Helvetica").text(myGraph_bellman_result[i].weight).attr("font-size", "15px").attr("fill", "#000080").transition().delay(time_total*2000).duration(30).attr("fill", "#000080");
        } 
        time_total++;
      }
      y=y+40;
      mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Algorithm Terminates").attr("font-size", "15px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "orange");
    }
    var myGraph_floyd = new Array (graph_vertex);
    var myGraph_floyd_dist = new Array (graph_vertex);
    var myGraph_floyd_edgecheck = new Array (graph_vertex);
    var x,y,y2;
    time_total=0;

    function floyd(mySVG)
    {
      result_size=0;
      mySVG.append("text").attr("x",300).attr("y",20).text("").attr("font-family", "Helvetica").text("BFS").attr("font-size", "20px").attr("fill", "green");
      x=300;
   //   y=y1+40+((graph_vertex*graph_vertex)*20);
   		y=40;
   		mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("After performing the following checks: ").attr("font-size", "12px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#9A32CD");
   		time_total++;
      for (var k=1;k<=graph_vertex;k++)
      {
        for (var i=1;i<=graph_vertex;i++)
        {
          for (j=1;j<=graph_vertex;j++)
          {

     /*      y=y+15;
            mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Checking if "+myGraph_floyd_dist[i][j]+" >= "+myGraph_floyd_dist[i][k]+" and "+myGraph_floyd_dist[k][j]).attr("font-size", "12px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#000080");*/

            if (Number(myGraph_floyd_dist[i][j])>=Number(myGraph_floyd_dist[i][k])+Number(myGraph_floyd_dist[k][j]))
            {
              
              myGraph_floyd_dist[i][j]=Number(myGraph_floyd_dist[i][k])+Number(myGraph_floyd_dist[k][j]);
              if(k==i || k==j)
              {
                myGraph_floyd_edgecheck[i][j]=1;
                y=y+15;
            	mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Checking if dist b/w "+i+" & "+j+" >= "+"dist b/w "+i+" & "+k+" and b/w "+k+" & "+j).attr("font-size", "12px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#000080");
                y=y+15;
                mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("true").attr("font-size", "12px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#9A32CD");
              }
              else
              {
                myGraph_floyd_edgecheck[i][j]=-1;
              }
            }
            else
            {
              y=y+15;
            	mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Checking if dist b/w "+i+" & "+j+" >= "+"dist b/w "+i+" & "+k+" and b/w "+k+" & "+j).attr("font-size", "12px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#000080");
                y=y+15;
                mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("false").attr("font-size", "12px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#9A32CD");
            }
          }
        }
      }
      for (var i=1;i<=graph_vertex;i++)
      {
        for (var j=1;j<=graph_vertex;j++)
        {
          if (myGraph_floyd[i][j]!==Number.MAX_VALUE && myGraph_floyd[i][j]!==0 && myGraph_floyd_edgecheck[i][j]==1)
          {
            var newobj={vertex1:Math.min(i,j),vertex2:Math.max(i,j),weight:myGraph_floyd[i][j]};
            myGraph_floyd_result.push(newobj);
            result_size++;
          }
        }
      }
      time_total++;
    }
    function floyd_init()
    {

    var newWindow = window.open('');
        newWindowRoot = d3.select(newWindow.document.body)
            .attr("width","1060px")
            .attr("margin","50px auto");

             var sampleSVG = newWindowRoot;

         var mySVG=sampleSVG.append('svg')
        .attr('width',10000)
        .attr('height', 10000);

      var newEdge=document.createElement('p');
      newEdge.textContent="Scroll Down!";
      document.getElementById("print_floyd").appendChild(newEdge);
      var start=Number(document.getElementById("g_startnode").value);
 //     d3.selectAll("svg > *").remove();
//    g_button_drawgraph();
 //     g_drawgraph_small();
//      g_button_drawvertices();
g_button_drawvertices_newwindow(mySVG)

 //     print_values();  
      for(var i=0;i<=graph_vertex;i++)
      {
        myGraph_floyd[i]=new Array (graph_vertex);
        myGraph_floyd_dist[i]=new Array (graph_vertex);
        myGraph_floyd_edgecheck[i]=new Array (graph_vertex);
      }
      
      for (var i=0;i<=graph_vertex;i++)
      {
        for (var j=0;j<=graph_vertex;j++)
        {
          if (i==j)
            myGraph_floyd[i][j]=0;
          else
            myGraph_floyd[i][j]=Number.MAX_VALUE;
        }
      }
      mySVG.append("text").attr("x",300).attr("y",20).text("").attr("font-family", "Helvetica").text("Floyd Warshall").attr("font-size", "20px").attr("fill", "green");
      x=50;
      y=50;
      mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Initializing all nodes").attr("font-size", "15px").attr("fill", "blue");
      time_total++;
      y=y+40;
      mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Distance between all nodes ").attr("font-size", "15px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "blue");
      y=y+15;
      y2=y;
      mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("set to infinity").attr("font-size", "15px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "blue");
      time_total++;
      for(var i=1;i<=2*graph_edge;i++)
      {
        myGraph_floyd[myGraph_undir[i].vertex1][myGraph_undir[i].vertex2]=myGraph_undir[i].weight;
      }
      for (var i=0;i<=graph_vertex;i++)
      {
        for (var j=0;j<=graph_vertex;j++)
        {
            myGraph_floyd_dist[i][j]=myGraph_floyd[i][j];
            myGraph_floyd_edgecheck[i][j]=-1;
        }
      }
      floyd(mySVG);
      x=50;
      y=y2;
      myGraph_floyd_result.sort(function(a, b)
      {
        return a.vertex1-b.vertex1;
      })  
      myGraph_floyd_result.sort(function(a, b)
      {
        return a.vertex2-b.vertex2;
      })  
      for(var i=1;i<=result_size;i=i+2)
      {
        y=y+40;
        mySVG.append("text").attr("x",x).attr("y",y).attr("font-family", "Helvetica").text("Edge: "+myGraph_floyd_result[i].vertex1+" "+myGraph_floyd_result[i].vertex2+" added to solution").attr("font-size", "12px").attr("fill", "white").transition().delay(time_total*2000).duration(30).attr("fill", "#9C9C9C");
  //      time_total++;
        var label_name;
        label_name="label"+myGraph_floyd_result[i].vertex1+""+myGraph_floyd_result[i].vertex2;
        mySVG.append("line").attr("id",label_name).attr("x1",myCoordinates[myGraph_floyd_result[i].vertex1].x1).attr("y1",myCoordinates[myGraph_floyd_result[i].vertex1].y1).attr("x2",myCoordinates[myGraph_floyd_result[i].vertex2].x1).attr("y2",myCoordinates[myGraph_floyd_result[i].vertex2].y1).style("stroke-width",1.5).style("stroke","none").transition().delay(time_total*2000).duration(30).style("stroke","#4169E1");
         g_button_drawvertices_newwindow(mySVG);
        if(graph_weighttype.localeCompare("weighted")==0)
        {
          mySVG.append("text").attr("x",(myCoordinates[myGraph_floyd_result[i].vertex1].x1+(2*myCoordinates[myGraph_floyd_result[i].vertex2].x1))/3).attr("y",(myCoordinates[myGraph_floyd_result[i].vertex1].y1+(2*myCoordinates[myGraph_floyd_result[i].vertex2].y1))/3).attr("font-family", "Helvetica").text(myGraph_floyd_result[i].weight).attr("font-size", "15px").attr("fill", "#000080").transition().delay(time_total*2000).duration(30).attr("fill", "#000080");
        } 
         time_total++;
      }
    }
    var x1=50;
    var y1=50;
    function print_values()
    {    
      d3.select("svg").append("text").attr("x",x1).attr("y",y1).text("You entered:").attr("font-family", "Helvetica").attr("font-size", "20px").attr("fill", "#7A378B"); 
      if(graph_weighttype.localeCompare("weighted")==0)
      {
        for(var i=1;i<=graph_edge;i++)
        {
          y1=y1+40;
          d3.select("svg").append("text").attr("x",x1).attr("y",y1).text(myGraph[i].vertex1+" "+myGraph[i].vertex2+"-->"+myGraph[i].weight).attr("font-family", "Helvetica").attr("font-size", "15px").attr("fill", "#7A378B");
        }
      }
      else
      {
        for(var i=1;i<=graph_edge;i++)
        {
          y1=y1+40;
          d3.select("svg").append("text").attr("x",x1).attr("y",y1).text(myGraph[i].vertex1+" "+myGraph[i].vertex2).attr("font-family", "Helvetica").attr("font-size", "15px").attr("fill", "#7A378B");
        }
      }
    }

    var x,y;
    var myCoordinates=[{x1:"",y1:""}];
    function g_button_drawvertices()
    { 
      for(var i = 0; i < graph_vertex; i++) 
      {
        x = 800+200 * Math.cos(2 * Math.PI * i / graph_vertex);
        y = 225+200 * Math.sin(2 * Math.PI * i / graph_vertex);

        var newobj={x1:x,y1:y};
        myCoordinates.push(newobj);
      }
      for(var i=0;i<graph_vertex;i++)
      {
        d3.select("svg").append("circle").attr("cx", myCoordinates[i+1].x1).attr("cy", myCoordinates[i+1].y1).attr("r", 20).attr("stroke","#00BFFF").attr("stroke-width",2).style("fill", "#F5F5F5");
        
        d3.select("svg").append("text").attr("x",myCoordinates[i+1].x1-5).attr("y",myCoordinates[i+1].y1+5).text(i+1).attr("font-family", "Helvetica").attr("font-size", "20px").attr("fill", "#00868B");
      }
    }

    function g_button_drawvertices_newwindow(mySVG)
    { 
      for(var i=0;i<graph_vertex;i++)
      {
        mySVG.append("circle").attr("cx", myCoordinates[i+1].x1).attr("cy", myCoordinates[i+1].y1).attr("r", 20).attr("stroke","#00BFFF").attr("stroke-width",2).style("fill", "#F5F5F5");
        
        mySVG.append("text").attr("x",myCoordinates[i+1].x1-5).attr("y",myCoordinates[i+1].y1+5).text(i+1).attr("font-family", "Helvetica").attr("font-size", "20px").attr("fill", "#00868B");
      }
    }

    function g_button_drawedge()
    {
      var temp_graph_vertex1=Number(document.getElementById("g_vertex1").value);
      var temp_graph_vertex2=Number(document.getElementById("g_vertex2").value);
      if (graph_weighttype.localeCompare("weighted")==0)
        temp_graph_weight=Number(document.getElementById("g_weight").value);
      else
        temp_graph_weight=1;

      var label_name;
      label_name="label"+temp_graph_vertex1+""+temp_graph_vertex2;

      if(graph_type.localeCompare("undirected")==0)
      {
        d3.select("svg").append("line").attr("id",label_name).attr("x1",myCoordinates[temp_graph_vertex1].x1).attr("y1",myCoordinates[temp_graph_vertex1].y1).attr("x2",myCoordinates[temp_graph_vertex2].x1).attr("y2",myCoordinates[temp_graph_vertex2].y1).style("stroke","#9C9C9C").style("stroke-width",1.5);
      }

      if(graph_weighttype.localeCompare("weighted")==0)
      {
        d3.select("svg").append("text").attr("x",(myCoordinates[temp_graph_vertex1].x1+(2*myCoordinates[temp_graph_vertex2].x1))/3).attr("y",(myCoordinates[temp_graph_vertex1].y1+(2*myCoordinates[temp_graph_vertex2].y1))/3).text(temp_graph_weight).attr("font-family", "Helvetica").attr("font-size", "15px").attr("fill", "#000080");
      }
    }
   
    function g_button_drawgraph()
    { 

      for(var i = 0; i < graph_vertex; i++) 
      {
        x = 800+200 * Math.cos(2 * Math.PI * i / graph_vertex);
        y = 225+200 * Math.sin(2 * Math.PI * i / graph_vertex);

        var newobj={x1:x,y1:y};
        myCoordinates.push(newobj);
      }

      for(var i=0;i<graph_vertex;i++)
      {
        d3.select("svg").append("circle").attr("cx", myCoordinates[i+1].x1).attr("cy", myCoordinates[i+1].y1).attr("r", 20).attr("stroke","#00BFFF").attr("stroke-width",2).style("fill", "#F5F5F5");
        
        d3.select("svg").append("text").attr("x",myCoordinates[i+1].x1-5).attr("y",myCoordinates[i+1].y1+5).text(i+1).attr("font-family", "Helvetica").attr("font-size", "20px").attr("fill", "#00868B");
      }
      for(var i=1;i<=graph_edge;i++)
      {
        var label_name;
        label_name="label"+myGraph[i].vertex1+""+myGraph[i].vertex2;
        
        d3.select("svg").append("line").attr("id",label_name).attr("x1",myCoordinates[myGraph[i].vertex1].x1).attr("y1",myCoordinates[myGraph[i].vertex1].y1).attr("x2",myCoordinates[myGraph[i].vertex2].x1).attr("y2",myCoordinates[myGraph[i].vertex2].y1).style("stroke","#9C9C9C").style("stroke-width",1.5);
      }

      if(graph_weighttype.localeCompare("weighted")==0)
      {
        for(var i=1;i<=graph_edge;i++)
        {
          d3.select("svg").append("text").attr("x",(myCoordinates[myGraph[i].vertex1].x1+(2*myCoordinates[myGraph[i].vertex2].x1))/3).attr("y",(myCoordinates[myGraph[i].vertex1].y1+(2*myCoordinates[myGraph[i].vertex2].y1))/3).text(myGraph[i].weight).attr("font-family", "Helvetica").attr("font-size", "15px").attr("fill", "#000080");
        }
      }
    }
  function g_button_storeprint_randgraph()
    { 

  var i,j;
       randgraph_true=1;
 /*     var rand_type=0;//Math.floor(Math.random() * (1 - 0 + 1)) + 0;
    
      if(rand_type==1)
        graph_type="directed";
      else
        graph_type="undirected";
  
      rand_type=Math.floor(Math.random() * (1 - 0 + 1)) + 0;
      if(rand_type==1)
        graph_weighttype="weighted";
      else
        graph_weighttype="unweighted";*/

      graph_vertex=Math.floor(Math.random() * (10 - 3 + 1)) + 3;
      graph_edge=Math.floor(Math.random() * ((graph_vertex*(graph_vertex-1)/2) - (graph_vertex) + 1)) + (graph_vertex);
  //  graph_edge=Math.floor(Math.random() * (5 - 1 + 1)) + 1;
    
    var myGraph_edge = new Array (graph_vertex);
    
  for(i=0;i<=graph_vertex;i++)
      {
        myGraph_edge[i]=new Array (graph_vertex);
      }
      for(i=1;i<=graph_vertex;i++)
      {
        for(j=1;j<=graph_vertex;j++)
        {
          myGraph_edge[i][j]=-1;
        }
      }
    
      
    for(var i=1;i<=graph_vertex;i++)
    {
    graph_vertex1=i;
    graph_vertex2=i;
        
    while(true)
    { 
      graph_vertex2=Math.floor(Math.random() * (graph_vertex - 1 + 1)) + 1;
      
      if(graph_vertex1!==graph_vertex2 && myGraph_edge[graph_vertex1][graph_vertex2]==-1)
      {
          if(graph_weighttype.localeCompare("weighted")==0)
        {
        graph_weight=Math.floor(Math.random() * (10 - 1 + 1)) + 1;            
        }
        else
        {
        graph_weight=1;
        }
        myGraph_edge[graph_vertex1][graph_vertex2]=graph_weight;
        myGraph_edge[graph_vertex2][graph_vertex1]=graph_weight;
        var newobj1={vertex1:graph_vertex1,vertex2:graph_vertex2,weight:graph_weight};
        myGraph.push(newobj1); 
        myGraph_undir.push(newobj1);  
        var newobj2={vertex1:graph_vertex2,vertex2:graph_vertex1,weight:graph_weight};
        myGraph_undir.push(newobj2);            
        break;
      }
      
    }
    }
    var i=graph_vertex;
    var j=1;
      while(i<graph_edge)
      {
        graph_vertex1=Math.floor(Math.random() * (graph_vertex - 1 + 1)) + 1;
        graph_vertex2=Math.floor(Math.random() * (graph_vertex - 1 + 1)) + 1;

    
        if(graph_vertex1!==graph_vertex2 && myGraph_edge[graph_vertex1][graph_vertex2]==-1)
        {
          if(graph_weighttype.localeCompare("weighted")==0)
          {
            graph_weight=Math.floor(Math.random() * (10 - 1 + 1)) + 1;            
          }
          else
          {
            graph_weight=1;
          }
          myGraph_edge[graph_vertex1][graph_vertex2]=graph_weight;
          myGraph_edge[graph_vertex2][graph_vertex1]=graph_weight;
          var newobj1={vertex1:graph_vertex1,vertex2:graph_vertex2,weight:graph_weight};
          myGraph.push(newobj1); 
          myGraph_undir.push(newobj1);  
          var newobj2={vertex1:graph_vertex2,vertex2:graph_vertex1,weight:graph_weight};
          myGraph_undir.push(newobj2);          
          i++;
        }
        j++;
        if(j==10000)
        {     
        break;
        }
      }
    g_button_drawgraph();
    g_button_drawvertices();
    print_values();     
  }
</script>
<body onload= weightvisible();>
</body>